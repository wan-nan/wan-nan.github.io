<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="wan_nan"><meta name="copyright" content="wan_nan"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>计算机系统结构复习 | 风物</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><link rel="icon" href="/dino.png"><link rel="mask-icon" href="/dino.png" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"wan-nan.github.io","root":"/","title":"风物的小站","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="第一章 性能计算Amdahl定律和CPU时间时要将各个量都算清楚！！  以经常性事件为重点 Amdahl定律 CPU性能公式 程序的局部性原理 MIPS和程序执行时间Te  Amdahl定律系统性能加速比：   加速比依赖于两个因素： （两个因素都是用比例描述的）   改进后的总执行时间**Tn和系统加速比Sn**如下：   Sn、T0、Tn知二求一 Amdahl定律：一种性能改进的递减规则">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机系统结构复习">
<meta property="og:url" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="风物">
<meta property="og:description" content="第一章 性能计算Amdahl定律和CPU时间时要将各个量都算清楚！！  以经常性事件为重点 Amdahl定律 CPU性能公式 程序的局部性原理 MIPS和程序执行时间Te  Amdahl定律系统性能加速比：   加速比依赖于两个因素： （两个因素都是用比例描述的）   改进后的总执行时间**Tn和系统加速比Sn**如下：   Sn、T0、Tn知二求一 Amdahl定律：一种性能改进的递减规则">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509105055421.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509105223030.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509105420723.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509110238790.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509163640612.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509163742466.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509171440628.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509170203630.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515104248190.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515104259810.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509172549871.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509174314614.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509174547502.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510135228999.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510135343567.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510140309509.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510140800995.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510140908925.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510141237886.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510141913590.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510191858369.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510195104380.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510195156961.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510201723212.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510201900699.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510202032215.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510203622046.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510204248422.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510204317675.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511191727712.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511192315252.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511210231841.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511210353614.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511210830148.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511211030946.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511213708013.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511213851161.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515105854071.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515105955564.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511234816944.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511215333334.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512131636227.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512132021894.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512134411916.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512133144185.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512134002458.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512140632971.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512151538629.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512151641562.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512155056266.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512160305217.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512160332193.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512161826735.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512153308016.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512153757321.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512161920372.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512161927389.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163209216.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163405986.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163449306.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163527530.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512165752403.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512165940943.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512170025897.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171225407.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171319591.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171414506.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171545134.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201235864.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201252307.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201404413.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201528345.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512202041386.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512202047704.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512202232150.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512212514069.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512212738206.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512212745444.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512213306567.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512213310884.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512213514501.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512214441188.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512214458576.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512211048501.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512211055786.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512233056939.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512233130195.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513170610445.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513185502930.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513185604682.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194221235.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194253249.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194303160.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194418261.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194119888.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194501972.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194817799.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194946282.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513201720606.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515112513463.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202057553.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202110661.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202116758.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202131538.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202205518.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202538231.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202407395.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202944629.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513203148475.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513203222335.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513203535069.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513204825206.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514135753101.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514143827248.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514143911604.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514144103941.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514144157700.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514144533768.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514154900180.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514153008384.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514152720087.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514152738378.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514151726397.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514151743328.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514152332774.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514153419226.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514153634215.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514171039480.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514171046691.png">
<meta property="article:published_time" content="2022-05-07T08:42:43.000Z">
<meta property="article:modified_time" content="2022-05-15T03:25:16.096Z">
<meta property="article:author" content="wan_nan">
<meta property="article:tag" content="学习">
<meta property="article:tag" content="专业课">
<meta property="article:tag" content="计算机系统结构">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509105055421.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="wan_nan"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="wan_nan"><span class="site-author-status" title="sleeping">😴</span></a><div class="site-author-name"><a href="/about/">wan_nan</a></div><span class="site-name">风物</span><sub class="site-subtitle">Yeah!</sub><div class="site-desciption">个人博客</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">50</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">4</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">37</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="留言板"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2213324970&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/wan-nan" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%80%A7%E8%83%BD"><span class="toc-number">1.</span> <span class="toc-text">第一章 性能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Amdahl%E5%AE%9A%E5%BE%8B"><span class="toc-number">1.1.</span> <span class="toc-text">Amdahl定律</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CPU%E6%80%A7%E8%83%BD%E5%85%AC%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">CPU性能公式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MIPS-Te"><span class="toc-number">1.3.</span> <span class="toc-text">MIPS&#x2F;Te</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E9%A2%98"><span class="toc-number">1.4.</span> <span class="toc-text">例题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.10</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">2.</span> <span class="toc-text">第三章 流水线</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E7%A9%BA%E5%9B%BE"><span class="toc-number">2.1.</span> <span class="toc-text">时空图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%88%86%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">流水线分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">2.3.</span> <span class="toc-text">流水线的性能指标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-number">2.4.</span> <span class="toc-text">题目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%80%A7%E8%83%BD"><span class="toc-number">2.4.1.</span> <span class="toc-text">分析流水线性能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">2.4.1.1.</span> <span class="toc-text">静态流水线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">2.4.1.2.</span> <span class="toc-text">动态流水线</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E8%B0%83%E5%BA%A6"><span class="toc-number">2.5.</span> <span class="toc-text">非线性流水线的调度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E7%9B%B8%E5%85%B3%E4%B8%8E%E5%86%B2%E7%AA%81"><span class="toc-number">2.6.</span> <span class="toc-text">流水线的相关与冲突</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RISC%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">2.6.1.</span> <span class="toc-text">RISC流水线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3"><span class="toc-number">2.6.2.</span> <span class="toc-text">相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%86%B2%E7%AA%81"><span class="toc-number">2.6.3.</span> <span class="toc-text">流水线冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E5%90%91"><span class="toc-number">2.6.4.</span> <span class="toc-text">定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E9%A2%98"><span class="toc-number">2.6.5.</span> <span class="toc-text">作业题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10"><span class="toc-number">2.6.6.</span> <span class="toc-text">3.10</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-11"><span class="toc-number">2.6.6.1.</span> <span class="toc-text">3.11</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C"><span class="toc-number">3.</span> <span class="toc-text">第五章 指令级并行</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B"><span class="toc-number">3.1.</span> <span class="toc-text">动态分支预测</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%8C%87%E4%BB%A4%E6%B5%81%E5%87%BA%E6%8A%80%E6%9C%AF"><span class="toc-number">3.2.</span> <span class="toc-text">多指令流出技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E9%9D%99%E6%80%81%E8%B0%83%E5%BA%A6%E7%9A%84%E5%A4%9A%E6%B5%81%E5%87%BA%E6%8A%80%E6%9C%AF"><span class="toc-number">3.2.1.</span> <span class="toc-text">基于静态调度的多流出技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E6%B5%81%E6%B0%B4%E5%A4%84%E7%90%86%E6%9C%BA"><span class="toc-number">3.2.2.</span> <span class="toc-text">超流水处理机</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="toc-number">3.3.</span> <span class="toc-text">题目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8"><span class="toc-number">3.3.1.</span> <span class="toc-text">5.8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-9"><span class="toc-number">3.3.2.</span> <span class="toc-text">5.9</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-11"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">5.11</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.</span> <span class="toc-text">第七章 存储系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">4.1.</span> <span class="toc-text">存储系统性能指标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cache%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="toc-number">4.2.</span> <span class="toc-text">Cache基本知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%A0%E8%B1%A1%E8%A7%84%E5%88%99"><span class="toc-number">4.2.1.</span> <span class="toc-text">映象规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.2.</span> <span class="toc-text">查找方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E7%AD%96%E7%95%A5"><span class="toc-number">4.2.3.</span> <span class="toc-text">写策略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">4.2.4.</span> <span class="toc-text">Cache性能分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9%E8%BF%9BCache%E6%80%A7%E8%83%BD"><span class="toc-number">4.3.</span> <span class="toc-text">改进Cache性能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%AA%E7%9B%B8%E8%81%94cache"><span class="toc-number">4.3.1.</span> <span class="toc-text">伪相联cache</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%8F%E5%B0%91cache%E4%B8%8D%E5%91%BD%E4%B8%AD%E5%BC%80%E9%94%80"><span class="toc-number">4.4.</span> <span class="toc-text">减少cache不命中开销</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%BA%A7cache"><span class="toc-number">4.4.1.</span> <span class="toc-text">两级cache</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E9%A2%98-1"><span class="toc-number">4.5.</span> <span class="toc-text">作业题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B7-3"><span class="toc-number">4.5.1.</span> <span class="toc-text">例7.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-10"><span class="toc-number">4.5.2.</span> <span class="toc-text">7.10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-11"><span class="toc-number">4.5.3.</span> <span class="toc-text">7.11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-14"><span class="toc-number">4.5.4.</span> <span class="toc-text">7.14</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0-I-O%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.</span> <span class="toc-text">第八章 I&#x2F;O系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.1.</span> <span class="toc-text">I&#x2F;O系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E6%80%A7%E6%A1%86%E5%9B%BE-%E4%B8%B2%E5%B9%B6%E8%81%94%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.2.</span> <span class="toc-text">可靠性框图&#x2F;串并联系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%B2%E8%81%94%E6%A8%A1%E5%9E%8B%E8%AE%A1%E7%AE%97%E7%A4%BA%E6%84%8F"><span class="toc-number">5.2.1.</span> <span class="toc-text">串联模型计算示意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RAID"><span class="toc-number">5.3.</span> <span class="toc-text">RAID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-2"><span class="toc-number">5.4.</span> <span class="toc-text">题目</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">6.</span> <span class="toc-text">第九章 互连网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%92%E8%BF%9E%E5%87%BD%E6%95%B0"><span class="toc-number">6.1.</span> <span class="toc-text">互连函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BA%92%E8%BF%9E%E5%87%BD%E6%95%B0"><span class="toc-number">6.1.1.</span> <span class="toc-text">基本互连函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B9-1"><span class="toc-number">6.1.2.</span> <span class="toc-text">例9.1</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C%E7%9A%84%E7%BB%93%E6%9E%84%E5%8F%82%E6%95%B0%E5%92%8C%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">6.2.</span> <span class="toc-text">互连网络的结构参数和性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%8F%82%E6%95%B0"><span class="toc-number">6.2.1.</span> <span class="toc-text">主要参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">6.2.2.</span> <span class="toc-text">性能指标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">6.3.</span> <span class="toc-text">静态互连网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">6.4.</span> <span class="toc-text">动态互连网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%A7%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">6.4.1.</span> <span class="toc-text">多级互连网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Omega%E7%BD%91%E7%BB%9C"><span class="toc-number">6.4.2.</span> <span class="toc-text">Omega网络</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-3"><span class="toc-number">6.5.</span> <span class="toc-text">题目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-9"><span class="toc-number">6.5.1.</span> <span class="toc-text">9.9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-13"><span class="toc-number">6.5.2.</span> <span class="toc-text">9.13</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E7%AB%A0-%E5%A4%9A%E5%A4%84%E7%90%86%E6%9C%BA"><span class="toc-number">7.</span> <span class="toc-text">第十章 多处理机</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="wan_nan"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="风物"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">计算机系统结构复习</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2022-05-07 16:42:43" itemprop="dateCreated datePublished" datetime="2022-05-07T16:42:43+08:00">2022-05-07</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2022-05-15 11:25:16" itemprop="dateModified" datetime="2022-05-15T11:25:16+08:00">2022-05-15</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">6.4k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">22m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">笔记</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E5%AD%A6%E4%B9%A0/" style="--text-color:saddlebrown"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">学习</span></a><a class="tag-item" href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">专业课</span></a><a class="tag-item" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">计算机系统结构</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="第一章-性能"><a href="#第一章-性能" class="headerlink" title="第一章 性能"></a>第一章 性能</h1><p><strong>计算Amdahl定律和CPU时间时要将各个量都算清楚</strong>！！</p>
<ul>
<li>以经常性事件为重点</li>
<li>Amdahl定律</li>
<li>CPU性能公式</li>
<li>程序的局部性原理</li>
<li>MIPS和程序执行时间Te</li>
</ul>
<h2 id="Amdahl定律"><a href="#Amdahl定律" class="headerlink" title="Amdahl定律"></a>Amdahl定律</h2><p>系统性能加速比：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509105055421.png" alt="image-20220509105055421" style="zoom: 67%;" loading="lazy">

<p>加速比依赖于两个因素：</p>
<p>（<strong>两个因素都是用比例描述的</strong>）</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509105223030.png" class title="image-20220509105223030" loading="lazy">

<p>改进后的总执行时间**T<del>n</del><strong>和系统加速比</strong>S<del>n</del>**如下：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509105420723.png" alt="image-20220509105420723" style="zoom: 80%;" loading="lazy">

<p><strong>S<del>n</del>、T<del>0</del>、T<del>n</del>知二求一</strong></p>
<p>Amdahl定律：一种性能改进的<strong>递减规则</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509110238790.png" class title="image-20220509110238790" loading="lazy">

<h2 id="CPU性能公式"><a href="#CPU性能公式" class="headerlink" title="CPU性能公式"></a>CPU性能公式</h2><ul>
<li><p><strong>CPU时间 = IC ×CPI ×时钟周期时间</strong> </p>
<ul>
<li>IC：所执行的指令条数</li>
<li>CPI：每条指令执行的平均时钟周期数（Cycles Per Instruction）</li>
<li>时钟周期时间是系统时钟频率的倒数</li>
</ul>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509163640612.png" class title="image-20220509163640612" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509163742466.png" class title="image-20220509163742466" loading="lazy"></li>
</ul>
<h2 id="MIPS-Te"><a href="#MIPS-Te" class="headerlink" title="MIPS/Te"></a>MIPS/Te</h2><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509171440628.png" class title="image-20220509171440628" loading="lazy">

<h2 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h2><ul>
<li><p>例1.4：</p>
<p>要额外考虑的问题是：<strong>CPU2的程序量为CPU1的<br>70%，不能仅仅以比例的视角看CPU时间</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509170203630.png" class title="image-20220509170203630" loading="lazy"></li>
</ul>
<h3 id="1-10"><a href="#1-10" class="headerlink" title="1.10"></a>1.10</h3><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515104248190.png" class title="image-20220515104248190" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515104259810.png" class title="image-20220515104259810" loading="lazy">

<h1 id="第三章-流水线"><a href="#第三章-流水线" class="headerlink" title="第三章 流水线"></a>第三章 流水线</h1><h2 id="时空图"><a href="#时空图" class="headerlink" title="时空图"></a>时空图</h2><p><strong>通过时间</strong>和<strong>排空时间</strong>见下图所示</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509172549871.png" alt="image-20220509172549871" style="zoom:67%;" loading="lazy">

<ul>
<li>流水线中时间最长的段将成为流水线的瓶颈</li>
</ul>
<h2 id="流水线分类"><a href="#流水线分类" class="headerlink" title="流水线分类"></a>流水线分类</h2><ul>
<li><p>按照流水技术用于计算机系统的等级不同</p>
<ul>
<li><p><strong>部件级流水线</strong>（运算操作流水线）</p>
<p>例如流水线分为：<u>浮点加法，求阶差，对阶，尾数相加，规格化</u>几个阶段时</p>
<p>按照运算操作的类型进行阶段划分</p>
</li>
<li><p><strong>处理机级流水线</strong>（指令流水线）</p>
<p>例如：<u>取址，译码，执行，访存，写回</u></p>
<p>把一条指令的执行过程分解为若干个子过程，每个子过程在独立的功能 部件中执行</p>
</li>
<li><p><strong>系统级流水线</strong>（宏流水线）</p>
<p>把多台处理机串行连接起来，对同一数据流进行处理，每个处理机完成整个任务中的一部分</p>
</li>
</ul>
</li>
<li><p>按照流水线所完成的功能来分类</p>
<ul>
<li><strong>单功能流水线</strong>：只能完成一种固定功能的流水线。</li>
<li><strong>多功能流水线</strong>：流水线的各段可以进行不同的连接，以实现不同的功能。</li>
</ul>
</li>
<li><p><strong>按照<u>同一时间内</u>各段之间的连接方式对多功能流水线作进一步的分类</strong></p>
<ul>
<li><strong>静态流水线</strong>：在同一时间内，多功能流水线中的各段只能按同一种功能的连接方式工作</li>
<li><strong>动态流水线</strong>：在同一时间内，多功能流水线中的各段可以按照不同的方式连接，同时执行多种功能</li>
</ul>
<p>静态流水线：排空后，才可执行其他功能</p>
<p>动态流水线：不同功能可同时在流水线中执行</p>
</li>
<li><p>按照流水线中是否有反馈回路来进行分类</p>
<ul>
<li><strong>线性流水线</strong>：流水线的各段串行连接，没有反馈回路。数据通过流水线中的各段时，每一个段最多只流过一次</li>
<li><strong>非线性流水线</strong>：流水线中除了有串行的连接外，还有反馈回路</li>
</ul>
<p><strong>非线性流水线的调度问题</strong>：确定什么时候向流水线引进新的任务，才能使该任务不会与先前进入流水线的任务发生冲突——争用流水段</p>
</li>
<li><p>根据任务流入和流出的顺序是否相同来进行分类</p>
<ul>
<li><p><strong>顺序流水线</strong>：流水线输出端任务流出的顺序与输入端任务流入的顺序完全相同。每一个任务在流水线的各段中是一个跟着一个顺序流动的</p>
<p>例如经典的五段指令流水线</p>
</li>
<li><p><strong>乱序流水线</strong>：流水线输出端任务流出的顺序与输入端任务流入的顺序可以不同，允许后进入流水线的任务先完成（从输出端流出）。也称为无序流水线、错序流水线、异步流水线</p>
<p>当今的指令流水线都是乱序流水线</p>
</li>
</ul>
</li>
<li><p>标量处理机与向量流水处理机 </p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509174314614.png" alt="image-20220509174314614" style="zoom:60%;" loading="lazy"></li>
</ul>
<h2 id="流水线的性能指标"><a href="#流水线的性能指标" class="headerlink" title="流水线的性能指标"></a>流水线的性能指标</h2><p>吞吐率、加速比、效率</p>
<ul>
<li><p><strong>吞吐率</strong>：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220509174547502.png" alt="image-20220509174547502" style="zoom:67%;" loading="lazy"></li>
<li><p>各段时间均相等的流水线</p>
<p>n是任务数，k是流水线段数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510135228999.png" alt="image-20220510135228999" style="zoom:67%;" loading="lazy">

<p>实际吞吐率和最大吞吐率</p>
<p>当n&gt;&gt;k，即任务数量远远大于流水线段数时，流水线吞吐率最大</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510135343567.png" alt="image-20220510135343567" style="zoom:67%;" loading="lazy"></li>
<li><p>各段时间不完全相等的流水线 </p>
<p>吞吐率计算用时空图或下面的公式</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510140309509.png" alt="image-20220510140309509" style="zoom:67%;" loading="lazy"></li>
<li><p>解决流水线瓶颈问题常用方法：</p>
<ul>
<li><p>细分瓶颈段</p>
<p>将$3\Delta t$的一段分为三个$\Delta t$的段</p>
</li>
<li><p>重新设置瓶颈段（使用并行部件，增加硬件成本）</p>
<p>如下图所示：设置三段$S_4$，轮流使用，提高了硬件开销</p>
<p><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510140800995.png" alt="image-20220510140800995" style="zoom: 67%;" loading="lazy"><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510140908925.png" alt="image-20220510140908925" style="zoom: 67%;" loading="lazy"></p>
</li>
</ul>
</li>
<li><p><strong>加速比</strong>：</p>
<p>完成同样一批任务，不使用流水线所用的时间与使用流水线所用的时间之比。</p>
<ul>
<li><p>流水线各段时间相等（都是$\Delta t$）</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510141237886.png" alt="image-20220510141237886" style="zoom:67%;" loading="lazy">

<p>当n&gt;&gt;k时，加速比取到最大，为k</p>
<p><strong>k是流水线的段数，所以流水线段数越多，加速比越大</strong></p>
</li>
<li><p>流水线的各段时间不完全相等时</p>
<p><strong>总之记住k段流水线完成n个任务耗时</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510141913590.png" alt="image-20220510141913590" style="zoom:67%;" loading="lazy"></li>
</ul>
</li>
<li><p>流水线的<strong>效率</strong>：</p>
<p>流水线中的设备实际使用时间与整个运行时间的比值，即流水线设备的利用率</p>
<ul>
<li><p>各段时间相等时，<strong>各段的效率</strong>相同，均为$e=\frac{n\Delta t}{T_k}=\frac{n}{k+n-1}$</p>
<p>整条流水线的效率为各段效率的平均，在$n&gt;&gt;k$时流水线总效率最大，取到1</p>
</li>
<li><p>几个量的关系：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510191858369.png" alt="image-20220510191858369" style="zoom:67%;" loading="lazy"></li>
<li><p>从时空图上看，效率就是n个任务占用的时空面积和k个段总的时空面积之比</p>
</li>
</ul>
</li>
</ul>
<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><h3 id="分析流水线性能"><a href="#分析流水线性能" class="headerlink" title="分析流水线性能"></a>分析流水线性能</h3><h4 id="静态流水线"><a href="#静态流水线" class="headerlink" title="静态流水线"></a>静态流水线</h4><p>时空图要画对</p>
<ul>
<li><p>读题：静态流水线or动态流水线</p>
<p>静态流水线：排空后，才可执行其他功能</p>
<p>动态流水线：不同功能可同时在流水线中执行</p>
</li>
</ul>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510195104380.png" alt="image-20220510195104380" style="zoom:67%;" loading="lazy">

<p>步骤：</p>
<ul>
<li>选择适合于流水线工作的算法</li>
<li>画出时空图 </li>
<li>计算性能</li>
</ul>
<p>答案：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510195156961.png" alt="image-20220510195156961" style="zoom: 67%;" loading="lazy">

<h4 id="动态流水线"><a href="#动态流水线" class="headerlink" title="动态流水线"></a>动态流水线</h4><p>不同功能可同时在流水线中执行，加和乘可以无缝切换，不用排空流水线</p>
<h2 id="非线性流水线的调度"><a href="#非线性流水线的调度" class="headerlink" title="非线性流水线的调度"></a>非线性流水线的调度</h2><p>冲突向量<strong>右移</strong>$j$位后和最开始的冲突向量C<del>0</del>取<strong>或</strong>运算</p>
<p>$j$取自禁止表</p>
<ul>
<li><p>启动距离：向一条非线性流水线的输入端<strong>连续输入两个任务之间的时间间隔</strong>称为非线性流水线的启动距离</p>
</li>
<li><p><strong>禁用启动距离</strong>：会引起非线性流水线功能段使用冲突的启动距离则称为禁用启动距离</p>
</li>
<li><p><strong>预约表</strong></p>
<p>横向（向右）：时间（一般用时钟周期表示）</p>
<p>纵向（向下）：流水线的段</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510201723212.png" alt="image-20220510201723212" style="zoom:67%;" loading="lazy">

<p>根据预约表写出禁止表F</p>
<p>上图中禁止表：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510201900699.png" alt="image-20220510201900699" style="zoom:67%;" loading="lazy">

<p>对于禁止表F= { 1，5，6，8 }<br>，其冲突向量为C<del>0</del>=（10110001） </p>
<p><strong>冲突向量</strong>：</p>
<p>注意<strong>从右往左数，从1到N</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510202032215.png" alt="image-20220510202032215" style="zoom: 67%;" loading="lazy">

<blockquote>
<p>冲突向量<strong>右移</strong>$j$位后和最开始的冲突向量C<del>0</del>取<strong>或</strong>运算</p>
<p>$j$取自禁止表</p>
</blockquote>
</li>
<li><p><strong>状态转移图</strong>：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510203622046.png" alt="image-20220510203622046" style="zoom:80%;" loading="lazy">

<p>每个状态引出的线都应该包括其自身禁止表中的所有值，以及9^+^（长度为8，则取9^+^，表示间隔时间大于预约表的最长时间）</p>
<p>由初始状态出发，任何一个闭合回路即为一种调度方案。</p>
<p><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510204248422.png" alt="image-20220510204248422" style="zoom:67%;" loading="lazy"><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220510204317675.png" alt="image-20220510204317675" style="zoom:67%;" loading="lazy"></p>
</li>
</ul>
<h2 id="流水线的相关与冲突"><a href="#流水线的相关与冲突" class="headerlink" title="流水线的相关与冲突"></a>流水线的相关与冲突</h2><h3 id="RISC流水线"><a href="#RISC流水线" class="headerlink" title="RISC流水线"></a>RISC流水线</h3><p>经典的5段RISC流水线</p>
<ul>
<li><p>取指（IF）</p>
<ul>
<li>以程序计数器<strong>PC</strong>中的内容作为地址，从<strong>存储器</strong>中取出指令并放入<strong>指令寄存器IR</strong>；</li>
<li>同时PC值加4（假设每条指令占4个字节），指向顺序的下一条指令。</li>
</ul>
</li>
<li><p>译码/读寄存器（ID）</p>
<ul>
<li>对指令进行译码，并用<strong>IR中的寄存器地址</strong>去访问<strong>通用寄存器组</strong>，读出所需的操作数。 </li>
</ul>
</li>
<li><p>执行/有效地址计算周期（EX）</p>
<p><strong>寄存器中的值在译码阶段就已经取出来了</strong></p>
<p>不同指令所进行的操作不同</p>
<ul>
<li>load和store指令：<strong>ALU</strong>把指令中所指定的寄存器的内容与偏移量相加，形成访存有效地址。</li>
<li>寄存器－寄存器ALU指令：<strong>ALU</strong>按照操作码指定的操作对从通用寄存器组中读出的数据进行运算。</li>
<li>寄存器－立即数ALU指令：<strong>ALU</strong>按照操作码指定的操作对从通用寄存器组中读出的操作数和指令中给出的立即数进行运算。</li>
<li>分支指令：<strong>ALU</strong>把指令中给出的偏移量与<strong>PC值</strong>相加，形成转移目标的地址。同时，对在前一个周期读出的操作数进行判断，确定分支是否成功。</li>
</ul>
</li>
<li><p>存储器访问／分支完成周期（MEM）</p>
<p>该周期处理的指令只有<strong>load、store</strong>和<strong>分支</strong>指令。其它类型的指令在此周期不做任何操作。</p>
<ul>
<li><p>load指令：用上一个周期计算出的有效地址从存储器中读出相应的数据；<br>store指令：把指定的数据写入这个有效地址所指出的存储器单元。</p>
</li>
<li><p>分支指令：</p>
<p>分支“成功”，就把转移目标地址送入PC。分支指令执行完成。</p>
</li>
</ul>
</li>
<li><p>写回周期（WB）</p>
<p>ALU运算指令和load指令在这个周期把结果数据<strong>写入通用寄存器组</strong>。</p>
</li>
</ul>
<p>这种实现方案中各个指令的耗时：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511191727712.png" alt="image-20220511191727712" style="zoom:67%;" loading="lazy">

<h3 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h3><ul>
<li><p>相关有三种类型：数据相关（真数据相关）、名相关、控制相关</p>
</li>
<li><p>数据相关：</p>
<p><strong>注意指令操作数的位置</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511192315252.png" alt="image-20220511192315252" style="zoom:67%;" loading="lazy"></li>
<li><p>名相关：</p>
<p>如果两条指令使用相同的名，但是它们之间并<strong>没有数据流动</strong>，则称这两条指令存在名相关。</p>
<ul>
<li>反相关：指令j写的名＝指令i读的名</li>
<li>输出相关：指令j写的名＝指令i写的名</li>
</ul>
</li>
<li><p>控制相关：</p>
<p>控制相关是指由<strong>分支指令</strong>引起的相关</p>
</li>
</ul>
<h3 id="流水线冲突"><a href="#流水线冲突" class="headerlink" title="流水线冲突"></a>流水线冲突</h3><p>三种类型：</p>
<p>结构冲突、数据冲突、控制冲突</p>
<ul>
<li><p>如果某种指令组合因为资源冲突而不能正常执行，则称该处理机有结构冲突。</p>
<p>例如访存冲突</p>
</li>
<li><p>数据冲突：</p>
<p>三种冲突：</p>
<ul>
<li><strong>写后读冲突</strong>，对应真数据相关</li>
<li>写后写冲突：对应输出相关</li>
<li>读后写冲突：对应反相关</li>
</ul>
</li>
</ul>
<h3 id="定向"><a href="#定向" class="headerlink" title="定向"></a>定向</h3><p>通过<strong>定向技术</strong>减少数据冲突引起的停顿 </p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511210231841.png" alt="image-20220511210231841" style="zoom:67%;" loading="lazy">

<ul>
<li><p>并不是所有的数据冲突都可以通过定向技术解决</p>
<p><strong>无法将LD指令（Load）的结果定向到DADD指令</strong></p>
<p>需要插入一个气泡</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511210353614.png" alt="image-20220511210353614" style="zoom:67%;" loading="lazy"></li>
<li><p>依靠编译器解决数据冲突</p>
<p>让编译器重新组织指令顺序来消除冲突，这种技术<br>称为指令调度或流水线调度。</p>
</li>
<li><p>指令调度举例：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511210830148.png" alt="image-20220511210830148" style="zoom:67%;" loading="lazy"></li>
<li><p>控制冲突 分支相关</p>
<p>简单处理分支指令：分支成功的情况</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511211030946.png" class title="image-20220511211030946" loading="lazy">

<p>等分支地址在MEM阶段计算完毕后，目标指令的IF阶段才能开始</p>
<p>这个例子中分支延迟为3</p>
</li>
<li><p>可以采取两种措施来减少分支延迟</p>
<ul>
<li>在流水线中尽早判断出分支转移是否成功</li>
<li>尽早计算出分支目标地址</li>
</ul>
<p><strong>通过将【判断分支是否成功】和【分支目标地址的计算】两步提前到ID段完成，分支延迟可以被降低为1个时钟周期</strong></p>
</li>
<li><p>流水线对分支的处理：</p>
<ul>
<li><p>预测不跳转</p>
<p>允许分支指令后的指令继续在流水线中流动，就好像什么都没发生似的</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511213708013.png" class title="image-20220511213708013" loading="lazy"></li>
<li><p>预测跳转</p>
</li>
<li><p>延迟分支（延迟槽）</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511213851161.png" alt="image-20220511213851161" style="zoom:80%;" loading="lazy">

<p>三种调度方法：</p>
<ul>
<li>从前调度</li>
<li>从目标处调度</li>
<li>从失败处调度</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="作业题"><a href="#作业题" class="headerlink" title="作业题"></a>作业题</h3><h3 id="3-10"><a href="#3-10" class="headerlink" title="3.10"></a>3.10</h3><p><strong>最后要排空流水线，最后一个任务耗时为$7\Delta t$</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515105854071.png" class title="image-20220515105854071" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515105955564.png" class title="image-20220515105955564" loading="lazy">



<h4 id="3-11"><a href="#3-11" class="headerlink" title="3.11"></a>3.11</h4><p>注意读题</p>
<blockquote>
<p><strong>在一个时钟周期中对同一个寄存器的读操作和写操作可以通过寄存器“定向”</strong></p>
</blockquote>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511234816944.png" class title="image-20220511234816944" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220511215333334.png" class title="image-20220511215333334" loading="lazy">

<p>上面在3和4时刻插入两个气泡，</p>
<hr>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512131636227.png" class title="image-20220512131636227" loading="lazy">

<p><strong>load-use问题</strong>上一个指令是load指令，结果需要在MEM阶段结束才能得到，那么下一条指令要想在EX阶段获取操作数，就要插入一个气泡</p>
<hr>
<p>流水线插入气泡是同时全部阶段一起插入的，所以第二条和第三条指令插入气泡的时刻一样</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512132021894.png" class title="image-20220512132021894" loading="lazy">

<hr>
<p>想象流水寄存器的存在，上一条指令的结果在EX阶段得出</p>
<p>如果是普通使用ALU的<strong>非分支指令</strong>，可以通过定向技术，直接将上一条指令ALU的结果定向到下一条指令的ALU的输入，避免插入气泡</p>
<p>如下图：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512134411916.png" alt="image-20220512134411916" style="zoom:80%;" loading="lazy">

<p>但<strong>分支指令需要在ID段就确定是否跳转以及跳转目标地址</strong></p>
<p>那么需要插入一个气泡，等上一个指令在EX段将结果计算出后再【<strong>定向</strong>】到下一条指令的ID段</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512133144185.png" class title="image-20220512133144185" loading="lazy">

<hr>
<p>如果没有定向技术在，则要按照下面的情况考虑</p>
<p>ID和EX冲突：插入一个气泡，编程ID和MEM冲突（一共需要两个气泡）</p>
<p>ID和MEM冲突：插入一个气泡</p>
<p>ID和WB冲突：通过先写后读，<u>寄存器堆写入控制采用下跳沿触发，而所有流水寄存器采用上跳沿触发</u>，来解决</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512134002458.png" alt="image-20220512134002458" style="zoom:67%;" loading="lazy">

<hr>
<p>预测分支失败：（即预测不跳转，顺序取指令）</p>
<ul>
<li>若确定分支失败，将分支指令看作是一条普通指令，流水线正常流动</li>
<li>若确定分支成功，流水线就把在分支指令之后取出的所有指令转化为空操作，并按分支目地<br>   重新取指令执行</li>
</ul>
<p>预测分支成功：（即预测会跳转）</p>
<ul>
<li>但是在前述5段流水线中，这种方法没有意义，因为还是要在ID段结束才能知道跳转地址，才能获取分支目标地址的指令，还是会暂停一个周期</li>
</ul>
<hr>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512140632971.png" class title="image-20220512140632971" loading="lazy">

<p><strong>3个点</strong>：</p>
<p>load-use问题：要避免在load指令下面相邻就出现数据冲突</p>
<p>（控制相关）分支指令问题：避免分支指令上面相邻就出现数据冲突</p>
<p>分支延迟问题：避免将分支指令放在最后一个，要在分支指令后面插入一条指令以避免分支延迟</p>
<h1 id="第五章-指令级并行"><a href="#第五章-指令级并行" class="headerlink" title="第五章 指令级并行"></a>第五章 指令级并行</h1><h2 id="动态分支预测"><a href="#动态分支预测" class="headerlink" title="动态分支预测"></a>动态分支预测</h2><ul>
<li><p>动态分支预测：</p>
<p>动态分支预测：在程序运行时，根据分支指令过去的表现来预测其将来的行为。<br>如果分支行为发生了变化，预测结果也跟着改变。<br>有更好的预测准确度和适应性。</p>
</li>
<li><p>采用动态分支预测的目的：</p>
<p>预测分支是否成功</p>
<p>尽快找到分支目标地址（或指令）</p>
<p>（避免控制相关造成流水线停顿） </p>
</li>
<li><p>分支历史表BHT是最简单的动态分支预测方法</p>
<p>其只有在这样的情况下才有用：<strong>判定分支是否成功所需的时间大于确定分支目标地址所需的时间</strong></p>
<p>5段经典流水线中BHT没好处</p>
</li>
<li><p>分支目标缓冲器BTB</p>
<p>将<strong>分支成功的分支指令的地址</strong>和<strong>它的分支目标地址</strong>都放到一个缓冲区中保存起来，缓冲区以<strong>分支指令的地址作为标识</strong></p>
<p>BTB的执行流程：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512151538629.png" class title="image-20220512151538629" loading="lazy">

<p>开销：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512151641562.png" alt="image-20220512151641562" style="zoom:67%;" loading="lazy">

<p>可以改进</p>
<ul>
<li><p>增加两位的BHT</p>
</li>
<li><p>存分支目标处的指令，而非分支目标地址</p>
<p><u>因为IF是通过指令地址取指令，分支成功，程序的空间局部性被破坏，取指令的时延很可能会增加（1级i-cache miss）</u></p>
</li>
</ul>
</li>
</ul>
<h2 id="多指令流出技术"><a href="#多指令流出技术" class="headerlink" title="多指令流出技术"></a>多指令流出技术</h2><p>三种：</p>
<p>超长指令字、超标量、超流水处理机</p>
<p>要会画各自的流水时空图</p>
<p>看例题5.11就够了</p>
<hr>
<p>实际CPI = 理想CPI==<strong>+</strong>==各种停顿拍数</p>
<p>前面的动态分支预测技术是在试图降低后者，即各种分支指令的停顿拍数</p>
<p>而可以通过在每个时钟周期内流出多条指令， 使CPI＜1，来降低前者，理想CPI</p>
<ul>
<li><p>多流出处理机有两种风格：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512155056266.png" class title="image-20220512155056266" loading="lazy"></li>
</ul>
<h3 id="基于静态调度的多流出技术"><a href="#基于静态调度的多流出技术" class="headerlink" title="基于静态调度的多流出技术"></a>基于静态调度的多流出技术</h3><p>假设：每个时钟周期流出两条指令：1条整数型指令＋1条浮点操作指令</p>
<p>其中：把load指令、store指令、分支指令归类为整数型指令。 </p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512160305217.png" class title="image-20220512160305217" loading="lazy">

<p>限制其性能发挥的障碍</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512160332193.png" class title="image-20220512160332193" loading="lazy">

<h3 id="超流水处理机"><a href="#超流水处理机" class="headerlink" title="超流水处理机"></a>超流水处理机</h3><p>对于一台每个时钟周期能流出n条指令的超流水线计算机来说，这n条指令不是同时流出的，而是每隔1/n个时钟周期流出一条指令。</p>
<p>实际上该超流水线计算机的流水线周期为<strong>1/n</strong>个时钟周期。 </p>
<ul>
<li><p>一台每个时钟周期分时流出两条指令的超流水线计算机的时空图</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512161826735.png" alt="image-20220512161826735" style="zoom:67%;" loading="lazy"></li>
</ul>
<h2 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h2><h3 id="5-8"><a href="#5-8" class="headerlink" title="5.8"></a>5.8</h3><p><strong>程序执行的CPI=没有分支的基本CPI+分支带来的额外开销</strong></p>
<p>上述两个开销直接相加</p>
<blockquote>
<p>命中率为90%，则有10%的几率未命中，开销为3</p>
<p>预测精度90%，则有**90%×10%**的几率命中并预测错误，开销为4</p>
</blockquote>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512153308016.png" class title="image-20220512153308016" loading="lazy">

<hr>
<h3 id="5-9"><a href="#5-9" class="headerlink" title="5.9"></a>5.9</h3><p>实际CPI = 理想CPI==<strong>+</strong>==各种停顿拍数【加！】</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512153757321.png" class title="image-20220512153757321" loading="lazy">

<hr>
<h4 id="5-11"><a href="#5-11" class="headerlink" title="5.11"></a>5.11</h4><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512161920372.png" class title="image-20220512161920372" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512161927389.png" class title="image-20220512161927389" loading="lazy">

<h1 id="第七章-存储系统"><a href="#第七章-存储系统" class="headerlink" title="第七章 存储系统"></a>第七章 存储系统</h1><h2 id="存储系统性能指标"><a href="#存储系统性能指标" class="headerlink" title="存储系统性能指标"></a>存储系统性能指标</h2><p>访问时间T、容量S、平均每位价格C</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163209216.png" class title="image-20220512163209216" loading="lazy">

<p><strong>整体的存储容量、每位价格、命中率、平均访问时间</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163405986.png" class title="image-20220512163405986" loading="lazy">

<p>命中率的定义：CPU访问存储系统时，在<strong>M1中</strong>找到所需信息的概率</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163449306.png" class title="image-20220512163449306" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512163527530.png" class title="image-20220512163527530" loading="lazy">

<p><strong>先访问小的M1，再访问大的M2</strong><br>$$<br>T_A：平均访问时间\<br>不命中开销T_M：从向M_2发出访问请求到把整个数据块调入M_1中所需的时间\<br>T_A ＝ T_1+F·T_M\<br>T_M=T_2+T_B\<br>T_B:传送一个信息块所需的时间<br>$$</p>
<h2 id="Cache基本知识"><a href="#Cache基本知识" class="headerlink" title="Cache基本知识"></a>Cache基本知识</h2><ul>
<li><p>Cache基本工作原理</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512165752403.png" class title="image-20220512165752403" loading="lazy"></li>
</ul>
<h3 id="映象规则"><a href="#映象规则" class="headerlink" title="映象规则"></a>映象规则</h3><ul>
<li><p>全相联：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512165940943.png" class title="image-20220512165940943" loading="lazy"></li>
<li><p>直接相联：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512170025897.png" class title="image-20220512170025897" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171225407.png" class title="image-20220512171225407" loading="lazy"></li>
<li><p>组相联：</p>
<p>“组”是Cache的概念</p>
<p>n 路组相联：每组中有n个块 ( n＝M/G )</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171319591.png" class title="image-20220512171319591" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171414506.png" class title="image-20220512171414506" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512171545134.png" class title="image-20220512171545134" loading="lazy"></li>
</ul>
<h3 id="查找方法"><a href="#查找方法" class="headerlink" title="查找方法"></a>查找方法</h3><p>我跳过了</p>
<h3 id="写策略"><a href="#写策略" class="headerlink" title="写策略"></a>写策略</h3><ul>
<li><p>写直达和写回</p>
<p>写直达是<strong>两级都要写</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201235864.png" class title="image-20220512201235864" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201252307.png" class title="image-20220512201252307" loading="lazy"></li>
<li><p>写操作时的调块</p>
<p>按写分配在写不命中时需要<strong>将块调入cache</strong>再写入</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201404413.png" class title="image-20220512201404413" loading="lazy"></li>
</ul>
<h3 id="Cache性能分析"><a href="#Cache性能分析" class="headerlink" title="Cache性能分析"></a>Cache性能分析</h3><ul>
<li><p>==<strong>平均访存时间 ＝ 命中时间＋不命中率×不命中开销</strong>==</p>
</li>
<li><p>程序执行时间</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512201528345.png" class title="image-20220512201528345" loading="lazy"></li>
<li><p>例题：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512202041386.png" class title="image-20220512202041386" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512202047704.png" class title="image-20220512202047704" loading="lazy"></li>
<li><p>Cache不命中对于一个CPI较小而时钟频率较高的CPU来说，影响是双重的（假设不命中代价（单位是时钟周期数）固定）</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512202232150.png" class title="image-20220512202232150" loading="lazy"></li>
</ul>
<h2 id="改进Cache性能"><a href="#改进Cache性能" class="headerlink" title="改进Cache性能"></a>改进Cache性能</h2><h3 id="伪相联cache"><a href="#伪相联cache" class="headerlink" title="伪相联cache"></a>伪相联cache</h3><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512212514069.png" class title="image-20220512212514069" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512212738206.png" class title="image-20220512212738206" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512212745444.png" class title="image-20220512212745444" loading="lazy">

<p>伪相联 Cache 具有<strong>一快一慢两种命中时间</strong>，它们分别对应于正常命中和伪命中的情况</p>
<h2 id="减少cache不命中开销"><a href="#减少cache不命中开销" class="headerlink" title="减少cache不命中开销"></a>减少cache不命中开销</h2><h3 id="两级cache"><a href="#两级cache" class="headerlink" title="两级cache"></a>两级cache</h3><p><strong>平均访存时间</strong></p>
<p><strong>全局不命中率和局部不命中率</strong></p>
<p><strong>每条指令的平均访存停顿时间</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512213306567.png" class title="image-20220512213306567" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512213310884.png" class title="image-20220512213310884" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512213514501.png" class title="image-20220512213514501" loading="lazy">

<h2 id="作业题-1"><a href="#作业题-1" class="headerlink" title="作业题"></a>作业题</h2><h3 id="例7-3"><a href="#例7-3" class="headerlink" title="例7.3"></a>例7.3</h3><p><strong>平均访存时间</strong></p>
<p><strong>全局不命中率和局部不命中率</strong></p>
<p><strong>每条指令的平均访存停顿时间</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512214441188.png" class title="image-20220512214441188" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512214458576.png" class title="image-20220512214458576" loading="lazy">

<p><strong>求每次访存的平均停顿时间，还要用平均访存时间减去1，即平均访存时间减去第一级cache的命中时间</strong></p>
<h3 id="7-10"><a href="#7-10" class="headerlink" title="7.10"></a>7.10</h3><p>平均访存时间和CPU时间</p>
<p><strong>平均访存时间＝命中时间＋失效率×失效开销</strong></p>
<p><strong>CPU<del>time</del>=（CPU执行周期数+存储停顿周期数）×时钟周期</strong></p>
<p><strong>CPU<del>time</del>=（IC×CPI执行周期数+总访存失效次数×失效开销）×时钟周期=IC×（CPI执行×时钟周期+每条指令的访存次数<em>失效率</em>失效开销×时钟周期）</strong></p>
<p><strong>平均访存时间不用×指令条数IC，而CPU时间需要×指令条数IC</strong></p>
<p>选择时优先选择CPU时间更小的</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512211048501.png" class title="image-20220512211048501" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512211055786.png" class title="image-20220512211055786" loading="lazy">

<h3 id="7-11"><a href="#7-11" class="headerlink" title="7.11"></a>7.11</h3><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512233056939.png" class title="image-20220512233056939" loading="lazy">

<p>2路组相连的一路命中就是直接命中，一路未命中二路命中就是伪命中，一路二路都未命中就是未命中</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220512233130195.png" class title="image-20220512233130195" loading="lazy">

<h3 id="7-14"><a href="#7-14" class="headerlink" title="7.14"></a>7.14</h3><p>写回法：写的时候不需要访存，只往cache里写</p>
<p>写直达法：需要访存一次，cache和主存都要写</p>
<hr>
<p><strong>写不命中时</strong>的策略：</p>
<p>按写分配：写不命中时，先把所写单元所在的块调入Cache，<br>再行写入</p>
<p>不按写分配：写不命中时，直接写入下一级存储器而不调块</p>
<hr>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513170610445.png" class title="image-20220513170610445" loading="lazy">

<h1 id="第八章-I-O系统"><a href="#第八章-I-O系统" class="headerlink" title="第八章 I/O系统"></a>第八章 I/O系统</h1><p><strong>平均无故障时间MTTF（Mean Time To Failure）</strong>从开始投入工作，至产品失效的时间平均值</p>
<p><strong>平均修复时间MTTR（Mean Time To Repair）</strong>设备处于故障状态时间的平均值</p>
<p><strong>平均故障间隔时间MTBF（Mean Time Between Failures）</strong>两次故障间的时间平均值<br>$$<br>MTBF=MTTF+MTTR\<br>可用性=\frac{MTTF}{MTTF+MTTR}<br>$$<br><strong>MTTF越长越好，MTTR越短越好</strong></p>
<p><strong>MTTF的倒数</strong>就是系统的<strong>失效率</strong></p>
<p>如果系统中每个模块的生存期<strong>服从指数分布</strong>，则系统整体的失效率是各部件的失效率之和</p>
<h2 id="I-O系统"><a href="#I-O系统" class="headerlink" title="I/O系统"></a>I/O系统</h2><ul>
<li><p>反映外设可靠性能的参数有：</p>
<p>可靠性（Reliability）<br>可用性（Availability）<br>可信性（Dependability）</p>
</li>
<li><p>系统的<strong>可靠性</strong>：系统从某个初始参考点开始一直连续提供服务的能力</p>
<p>用<strong>平均无故障时间MTTF（Mean Time To Failure）</strong>来衡量</p>
<p>系统中断服务的时间用<strong>平均修复时间MTTR（Mean Time To Repair）</strong>来衡量</p>
</li>
<li><p>产品的寿命特性：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513185502930.png" alt="image-20220513185502930" style="zoom:67%;" loading="lazy">

<p><strong>MTTF的倒数</strong>就是系统的<strong>失效率</strong></p>
</li>
<li><p>系统的可用性：</p>
<p><strong>平均故障间隔时间MTBF（Mean Time Between Failures）</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513185604682.png" alt="image-20220513185604682" style="zoom:67%;" loading="lazy"></li>
<li><p>系统的可信性：服务的质量。即在多大程度上可以合理地认为服务是可靠的。（不可以度量）</p>
</li>
</ul>
<h2 id="可靠性框图-串并联系统"><a href="#可靠性框图-串并联系统" class="headerlink" title="可靠性框图/串并联系统"></a>可靠性框图/串并联系统</h2><h3 id="串联模型计算示意"><a href="#串联模型计算示意" class="headerlink" title="串联模型计算示意"></a>串联模型计算示意</h3><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194221235.png" class title="image-20220513194221235" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194253249.png" class title="image-20220513194253249" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194303160.png" class title="image-20220513194303160" loading="lazy">

<p>任务A~F都是串联，各自的计算都是直接可靠度相乘</p>
<p>下图注意红色部分：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194418261.png" class title="image-20220513194418261" loading="lazy">

<hr>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194119888.png" class title="image-20220513194119888" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194501972.png" class title="image-20220513194501972" loading="lazy">

<p><strong>MTTF的倒数</strong>就是系统的<strong>失效率</strong></p>
<p>==如果系统中每个模块的生存期<strong>服从指数分布</strong>，则系统整体的失效率是各部件的失效率之和==</p>
<p>MTTF的叠加如同电阻的并联，越并越小</p>
<h2 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h2><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194817799.png" class title="image-20220513194817799" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513194946282.png" class title="image-20220513194946282" loading="lazy">

<p><strong>N个磁盘叠加，MTTF变为原来的1/N</strong></p>
<h2 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h2><p>重要的：RAID0、1、4、5、6、10、01</p>
<p>考RAID，而且还要画框图，还要算可靠性，大概率考RAID0/1/01/10</p>
<p>框图中，RAID0就是串联，RAID1就是并联</p>
<hr>
<p>提出进一步增强系统可靠性的若干建议：</p>
<p>四到八个控制器做多活，ECC<br>DRAM，RAID6，parity（spare） declustering</p>
<h1 id="第九章-互连网络"><a href="#第九章-互连网络" class="headerlink" title="第九章 互连网络"></a>第九章 互连网络</h1><p>互连网络是一种由开关元件按照一定的拓扑结构和控制方式构成的网络，用来实现计算机系统中结点之间的相互连接</p>
<h2 id="互连函数"><a href="#互连函数" class="headerlink" title="互连函数"></a>互连函数</h2><p>函数反映的是<strong>输入端与输出端 端号</strong> 的连接关系</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513201720606.png" class title="image-20220513201720606" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220515112513463.png" class title="image-20220515112513463" loading="lazy">

<h3 id="基本互连函数"><a href="#基本互连函数" class="headerlink" title="基本互连函数"></a>基本互连函数</h3><p><strong>恒等函数I</strong></p>
<p><strong>交换函数E</strong></p>
<p><strong>立方体互连函数Cube</strong></p>
<p><strong>均匀洗牌函数$\sigma$</strong></p>
<p><strong>逆均匀洗牌函数$\sigma^{-1}$</strong></p>
<p><strong>蝶式函数$\beta$</strong></p>
<p><strong>反位序函数$\rho$</strong></p>
<p><strong>移数函数$\alpha$</strong></p>
<p><strong>PM2I函数</strong></p>
<ul>
<li><p>恒等函数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202057553.png" class title="image-20220513202057553" loading="lazy"></li>
<li><p>交换函数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202110661.png" class title="image-20220513202110661" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202116758.png" class title="image-20220513202116758" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202131538.png" class title="image-20220513202131538" loading="lazy">

<p>立方体网络：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202205518.png" alt="image-20220513202205518" style="zoom:50%;" loading="lazy"></li>
<li><p>均匀洗牌函数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202538231.png" class title="image-20220513202538231" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202407395.png" class title="image-20220513202407395" loading="lazy">

<p><strong>子函数和超函数不是均分为两部分，而是取低k位和高k位</strong></p>
</li>
<li><p>逆均匀洗牌函数：</p>
<p>将输入端的二进制编号<strong>循环右移</strong>一位而得到所连接的输出端编号</p>
</li>
<li><p>蝶式函数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513202944629.png" class title="image-20220513202944629" loading="lazy"></li>
<li><p>反位序函数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513203148475.png" class title="image-20220513203148475" loading="lazy"></li>
<li><p>移数函数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513203222335.png" class title="image-20220513203222335" loading="lazy"></li>
<li><p>PM2I函数</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513203535069.png" class title="image-20220513203535069" loading="lazy"></li>
<li><p>阵列计算机ILLIAC Ⅳ</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220513204825206.png" class title="image-20220513204825206" loading="lazy"></li>
<li><h3 id="例9-1"><a href="#例9-1" class="headerlink" title="例9.1"></a>例9.1</h3><p>记清楚所有的互连函数即可</p>
</li>
</ul>
<h2 id="互连网络的结构参数和性能指标"><a href="#互连网络的结构参数和性能指标" class="headerlink" title="互连网络的结构参数和性能指标"></a>互连网络的结构参数和性能指标</h2><h3 id="主要参数"><a href="#主要参数" class="headerlink" title="主要参数"></a>主要参数</h3><p><strong>网络规模N</strong>：网络中结点的个数</p>
<p><strong>结点度d</strong>：与结点相连接的边数（通道数），包括入度和出度</p>
<p><strong>结点距离</strong>：对于网络中的任意两个结点，从一个结点出发到另一个结点终止所需要跨越的边数的最小值</p>
<p><strong>网络直径D</strong>：网络中任意两个结点之间距离的最大值。<br>网络直径应当尽可能地小</p>
<p><strong>等分宽度b</strong>：把由N个结点构成的网络切成结点数相同（N/2）的两半，在各种切法中，<strong>沿切口边数</strong>的最小值。</p>
<h3 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h3><h2 id="静态互连网络"><a href="#静态互连网络" class="headerlink" title="静态互连网络"></a>静态互连网络</h2><p>各结点之间有固定的连接通路、且在运行中不能改变的网络</p>
<p>所有类型的静态互连网络参数一览表</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514135753101.png" class title="image-20220514135753101" loading="lazy">

<h2 id="动态互连网络"><a href="#动态互连网络" class="headerlink" title="动态互连网络"></a>动态互连网络</h2><h3 id="多级互连网络"><a href="#多级互连网络" class="headerlink" title="多级互连网络"></a>多级互连网络</h3><p>a×b开关：a个输入和b个输出</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514143827248.png" class title="image-20220514143827248" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514143911604.png" class title="image-20220514143911604" loading="lazy">

<ul>
<li><p>2×2开关</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514144103941.png" class title="image-20220514144103941" loading="lazy"></li>
<li><p>多级互连网络的区别：</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514144157700.png" class title="image-20220514144157700" loading="lazy"></li>
</ul>
<h3 id="Omega网络"><a href="#Omega网络" class="headerlink" title="Omega网络"></a>Omega网络</h3><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514144533768.png" class title="image-20220514144533768" loading="lazy">

<p>还考过16×16的</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514154900180.png" class title="image-20220514154900180" loading="lazy">

<h2 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a>题目</h2><p><strong>恒等函数I</strong></p>
<p><strong>交换函数E</strong></p>
<p><strong>立方体互连函数Cube</strong></p>
<p><strong>均匀洗牌函数$\sigma$</strong></p>
<p><strong>逆均匀洗牌函数$\sigma^{-1}$</strong></p>
<p><strong>蝶式函数$\beta$</strong></p>
<p><strong>反位序函数$\rho$</strong></p>
<p><strong>移数函数$\alpha$</strong></p>
<p><strong>PM2I函数</strong></p>
<h3 id="9-9"><a href="#9-9" class="headerlink" title="9.9"></a>9.9</h3><p>（直径和节点度好像都不考）</p>
<p><strong>混洗交换网络，就是混洗$\sigma$+交换$Cube_x$，两种方式同时起作用</strong></p>
<p><strong>混洗，等同于左移1位；交换，等同于某个特定的位取反</strong></p>
<hr>
<p><strong>第一问一定要算对啊</strong></p>
<p><strong>处理器的个数是32个，所以高位要补0补到5位</strong></p>
<hr>
<p><strong>求距离，就是看最少经过几步 移位/取反 ，能得到目标数字</strong></p>
<hr>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514153008384.png" class title="image-20220514153008384" loading="lazy">

<p><strong>循环移数网络</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514152720087.png" class title="image-20220514152720087" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514152738378.png" class title="image-20220514152738378" loading="lazy">

<hr>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514151726397.png" class title="image-20220514151726397" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514151743328.png" class title="image-20220514151743328" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514152332774.png" class title="image-20220514152332774" loading="lazy">

<p>第三问用广度优先遍历，找到最远的处理机</p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514153419226.png" class title="image-20220514153419226" loading="lazy">

<p>这个过程是对每层的每个数都要+1,-1,+2,-2,+4,-4,+8,-8,+16,-16取余,如果有新数，就写到下一层，否则跳过</p>
<h3 id="9-13"><a href="#9-13" class="headerlink" title="9.13"></a>9.13</h3><img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514153634215.png" class title="image-20220514153634215" loading="lazy">

<p>整个图都要画</p>
<p>“走迷宫”</p>
<h1 id="第十章-多处理机"><a href="#第十章-多处理机" class="headerlink" title="第十章 多处理机"></a>第十章 多处理机</h1><p>应该就考这个</p>
<p><strong>$1GHz=1\times 10^9Hz$</strong></p>
<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514171039480.png" class title="image-20220514171039480" loading="lazy">

<img src="/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/image-20220514171046691.png" class title="image-20220514171046691" loading="lazy">
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>wan_nan</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/" title="计算机系统结构复习">https://wan-nan.github.io/2022/05/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/05/23/Pytorch%E5%AE%89%E8%A3%85/" rel="prev" title="Pytorch安装"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Pytorch安装</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/05/03/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E7%AC%94%E8%AE%B0/" rel="next" title="数据库系统概论笔记"><span class="post-nav-text">数据库系统概论笔记</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 – 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> wan_nan</span></div><div class="live_time"><span>本博客已悄悄运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-03T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="总访客量"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="总访问量"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="308168565" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>