<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="wan_nan"><meta name="copyright" content="wan_nan"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>ns-3学习 | 风物</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link rel="icon" href="/dino.png"><link rel="mask-icon" href="/dino.png" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"wan-nan.github.io","root":"/","title":"风物的小站","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script>//- only for pjax
function sendPageView() {
  if (CONFIG.hostname !== location.hostname) return;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('event', 'page_view', {
    page_path: encodeURIComponent(location.pathname),
  })
}
document.addEventListener("pjax:success", sendPageView);</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="《ns-3网络模拟器基础及应用》 《开源网络模拟器ns-3:架构与实践》 目前打算用微信读书读的同时做标记 读完一部分后统一整理到这里  2022&#x2F;10&#x2F;26更新： 还得是英文文档 ns-3 Tutorial Internet Models和Network Module  200&#x2F;12&#x2F;27更新： 还得是debug😭  &#x3D;&#x3D;一些资源汇总：&#x3D;&#x3D;  ns3 Google 论坛（还在活跃更新）  z">
<meta property="og:type" content="article">
<meta property="og:title" content="ns-3学习">
<meta property="og:url" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="风物">
<meta property="og:description" content="《ns-3网络模拟器基础及应用》 《开源网络模拟器ns-3:架构与实践》 目前打算用微信读书读的同时做标记 读完一部分后统一整理到这里  2022&#x2F;10&#x2F;26更新： 还得是英文文档 ns-3 Tutorial Internet Models和Network Module  200&#x2F;12&#x2F;27更新： 还得是debug😭  &#x3D;&#x3D;一些资源汇总：&#x3D;&#x3D;  ns3 Google 论坛（还在活跃更新）  z">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404000808237.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404001846278.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205620652.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205310842.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228210216468.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230317234518827.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230401213209705.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/5J$T3N_NZ8HSPYWFCYNKB.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled-1680533616983.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230403225052999.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230412214659736.png">
<meta property="article:published_time" content="2022-10-16T12:37:04.000Z">
<meta property="article:modified_time" content="2023-05-02T13:07:42.564Z">
<meta property="article:author" content="wan_nan">
<meta property="article:tag" content="daily">
<meta property="article:tag" content="ns-3">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404000808237.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="wan_nan"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="wan_nan"><span class="site-author-status" title="sleeping">😴</span></a><div class="site-author-name"><a href="/about/">wan_nan</a></div><span class="site-name">风物</span><sub class="site-subtitle">Yeah!</sub><div class="site-desciption">个人博客</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">53</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">40</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="留言板"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2213324970&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/wan-nan" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E7%82%B9%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">记点笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ns-3%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.</span> <span class="toc-text">ns-3使用</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="wan_nan"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="风物"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ns-3学习</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2022-10-16 20:37:04" itemprop="dateCreated datePublished" datetime="2022-10-16T20:37:04+08:00">2022-10-16</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2023-05-02 21:07:42" itemprop="dateModified" datetime="2023-05-02T21:07:42+08:00">2023-05-02</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">1.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">4m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">笔记</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/daily/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">daily</span></a><a class="tag-item" href="/tags/ns-3/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">ns-3</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><blockquote>
<p><a target="_blank" rel="noopener" href="https://weread.qq.com/web/bookDetail/d9f32e40717d2cf0d9f350e">《ns-3网络模拟器基础及应用》</a></p>
<p><a target="_blank" rel="noopener" href="https://weread.qq.com/web/bookDetail/21932bf07210dbdd2191d13">《开源网络模拟器ns-3:架构与实践》</a></p>
<p>目前打算用微信读书读的同时做标记</p>
<p>读完一部分后统一整理到这里</p>
<hr>
<p>2022/10/26更新：</p>
<p>还得是英文文档</p>
<p><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/tutorial/singlehtml/index.html">ns-3 Tutorial</a></p>
<p>Internet Models和Network Module</p>
<hr>
<p>200/12/27更新：</p>
<p>还得是debug😭</p>
<hr>
<p>==<strong>一些资源汇总：</strong>==</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://groups.google.com/g/ns-3-users">ns3 Google 论坛</a>（还在活跃更新）</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ns-3.zulipchat.com/#all_messages">zulipchat</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Hesy_H/article/details/89358506">ns3学习资源汇总</a></p>
</li>
</ul>
 <img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404000808237.png" alt="image-20230404000808237" style="zoom: 50%;" loading="lazy">

<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Hesy_H/article/details/122292513">ns3 博客目录</a></li>
</ul>
 <img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404001846278.png" alt="image-20230404001846278" style="zoom:33%;" loading="lazy">

<ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013618190/article/details/88059495">一个简单的示例脚本程序</a></p>
</li>
<li></li>
</ul>
</blockquote>
<h2 id="记点笔记"><a href="#记点笔记" class="headerlink" title="记点笔记"></a>记点笔记</h2><h3 id="ns-3使用"><a href="#ns-3使用" class="headerlink" title="ns-3使用"></a>ns-3使用</h3><ul>
<li><p><strong>获取Header</strong></p>
<p>获取<code>Ipv4Header</code>和<code>TcpHeader</code>这种Header时最好用<code>PeekHeader()</code></p>
<p>不然用<code>RemoveHeader()</code>还要记得再<code>AddHeader()</code></p>
<p><strong>但是好像要获取TcpHeader必须要先把外面的PppHeader和Ipv4Header去掉</strong></p>
</li>
<li><p><strong>DynamicCast</strong></p>
<p>QueueDiscItem中没有<code>Ipv4Header</code>，即使QueueDisc层在ip层下面，没办法直接用QueueDiscItem获取Ipv4Header</p>
<p>但是<code>TrafficControlLayer::Send()</code>这个函数的参数是<code>Ptr&lt;QueueDiscItem&gt;</code></p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205620652.png" alt="image-20230228205620652" style="zoom: 80%;" loading="lazy">

<p>调用者传入的是<code>Ptr&lt;Ipv4QueueDiscItem&gt;</code>类型【这是为了避免可能是Ipv6】</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205310842.png" class title="image-20230228205310842" loading="lazy">

<p><code>Ipv4QueueDiscItem</code>是<code>QueueDiscItem</code>的子类，<code>TrafficControlLayer::Send()</code>函数中可以用<strong>DynamicCast</strong>将<code>QueueDiscItem</code>转换为<code>Ipv4QueueDiscItem</code>类型（即<strong>下行转换</strong>）</p>
<p>下行转换中，最好用dynamic_cast，而<code>DynamicCast</code>是ns-3对dynamic_cast的封装</p>
<ul>
<li><p>参考这篇文章，讲得很好：[C++中static_cast和dynamic_cast强制类型转换(<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_26849233/article/details/62218385">https://blog.csdn.net/qq_26849233/article/details/62218385</a>)</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228210216468.png" class title="image-20230228210216468" loading="lazy"></li>
<li><p>所以原问题解决方案是：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Ptr&lt;Ipv4QueueDiscItem&gt; ipv4Item = DynamicCast&lt;Ipv4QueueDiscItem&gt;(item);</span><br><span class="line">Ipv4Header ip = ipv4Item-&gt;<span class="built_in">GetHeader</span>();</span><br><span class="line"><span class="keyword">uint32_t</span> srcAddr = ip.<span class="built_in">GetSource</span>().<span class="built_in">Get</span>();</span><br><span class="line"><span class="keyword">uint32_t</span> dstAddr = ip.<span class="built_in">GetDestination</span>().<span class="built_in">Get</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>packet size != segment size</p>
<p>message的末尾可能会出现这种情况</p>
</li>
<li><p>使用stl中的<code>string</code></p>
<p>不需要<code>#include &lt;string&gt;</code>，只需要直接用<code>std::string</code>声明</p>
</li>
<li><p>cmake可以设置debug模式和release模式</p>
<p>两个模式有一些区别：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39382769/article/details/102830571">【C++】Debug模式和Release模式的区别</a></p>
<p>cmake中设置的方法：<a target="_blank" rel="noopener" href="https://blog.csdn.net/hankern/article/details/98711737">cmake的debug和release模式设置</a></p>
<p><strong>非debug模式</strong>会<code>#define NDEBUG</code>这个宏</p>
</li>
<li><p>为什么application启动时间需要用一个值，不是0</p>
<blockquote>
<p>在流启动之前有一些东西可能要配置，在我们这里似乎没有，主要是为了避免静态配置和动态配置之间出错</p>
<p>如果设置成0的话</p>
<p>有可能流启动的事件就插在配置事件里，就可能出错</p>
<p>也可以是0.001s，无所谓，反正后面算速率的时候都要减掉刚开始这个时间</p>
</blockquote>
</li>
<li><p>DelACKCount默认值居然是2！！</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230317234518827.png" alt="image-20230317234518827" style="zoom:67%;" loading="lazy"></li>
<li><p>ns3中TCP的断连Rto次数是有限制的，超过限制次数连接就会drop</p>
<p>下图这俩一个是建立连接过程中的Rto次数限制，一个是建立连接后的Rto次数限制</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230401213209705.png" alt="image-20230401213209705" style="zoom:67%;" loading="lazy"></li>
<li><p>m_tcb→m_cWnd 想了个<strong>歪点子</strong> 用<strong>回调</strong>来保证修改所有地方</p>
<ul>
<li><p>需要注意的是：直接用<code>Simulator::Schedule (Seconds(0), &amp;modifyCwndSize, tcpSocket, fixedCwndValue);</code> 有风险，<strong>ns3会在同一个event里面修改后使用窗口的值</strong></p>
</li>
<li><p>这里的解决方法是：修改回调底层的（赋值）和（调用函数指针）的顺序，见下图（路径：src/core/model/traced-value.h）</p>
<p>（我是另外重新跑了一遍原来的实验，确保修改前后不会改变结果）</p>
<p>（<strong>但是到底会有什么副作用，尚未发现</strong>）</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled.png" alt="Untitled" style="zoom:67%;" loading="lazy"></li>
</ul>
</li>
<li><p>应用层和L4交互</p>
<p>application不断压包 和 有一个很大的SendBuffer等效<br>（在网络看来等效）</p>
</li>
<li><p>ns-3中Sender端TrafficControl层会丢包</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/5J$T3N_NZ8HSPYWFCYNKB.png" alt="img" style="zoom:67%;" loading="lazy"></li>
<li><p>tc层的queue（qdisc）和device层的queue</p>
<p><strong>一般DropTailQueue的MaxSize都设置成1p</strong></p>
<p>问题来源：</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled-1680533616983.png" alt="Untitled" style="zoom:80%;" loading="lazy">

<p>解答：</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230403225052999.png" alt="image-20230403225052999" style="zoom:50%;" loading="lazy"></li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xinwenfei/article/details/72599103">浅析NS3中各个流量发送应用的异同</a></p>
<ul>
<li><p><strong>UdpEcho</strong></p>
</li>
<li><p><strong>OnOffApplication</strong></p>
</li>
<li><p><strong>BulkSendApplication</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/doxygen/db/d92/group__bulksend.html#details">官方文档描述</a></p>
<blockquote>
<p>This traffic generator simply sends data as fast as possible up to MaxBytes or until the application is stopped (if MaxBytes is zero).</p>
<p>Once the lower layer send buffer is filled, it waits until space is free to send more data, essentially keeping a constant flow of data. Only SOCK_STREAM and SOCK_SEQPACKET sockets are supported. For example, TCP sockets can be used, but UDP sockets can not be used.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>DCE和NSC</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/release/3.2/manual/manual_45.html">NSC（Network Simulation Cradle）</a>：</p>
<blockquote>
<p>The Network Simulation Cradle (NSC) is a framework for wrapping real-world network code into simulators, allowing simulation of real-world behavior at little extra cost. This work has been validated by comparing situations using a test network with the same situations in the simulator. To date, it has been shown that the NSC is able to produce extremely accurate results. NSC supports four real world stacks: FreeBSD, OpenBSD, lwIP and Linux.</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.nsnam.org/about/projects/direct-code-execution/">DCE（Direct Code Execution）</a>：</p>
<blockquote>
<p>Direct Code Execution (DCE) is a framework for ns-3 that provides facilities to execute, within ns-3, existing implementations of userspace and kernelspace network protocols or applications without source code changes. For example, instead of using ns-3’s implementation of a ping-like application, you can use the real ping application. You can also use the Linux networking stack in simulations.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>ns3中的<a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/models/html/error-model.html">Error Model</a>：</p>
<blockquote>
<p>This section documents a few error model objects, typically associated with NetDevice models, that are maintained as part of the <code>network</code> module:</p>
<ul>
<li>RateErrorModel</li>
<li>ListErrorModel</li>
<li>ReceiveListErrorModel</li>
<li>BurstErrorModel</li>
</ul>
<p>Error models are used to indicate that a packet should be considered to be errored, according to the underlying (possibly stochastic or empirical) error model.</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/release/3.19/doxygen/classns3_1_1_burst_error_model.html"><strong>ns3::BurstErrorModel</strong></a></li>
<li><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/doxygen/d6/de9/classns3_1_1_rate_error_model.html"><strong>ns3::RateErrorModel</strong></a></li>
</ul>
</li>
<li><p>ns3::TCP中的mark as lost算法：</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230412214659736.png" alt="image-20230412214659736" style="zoom: 80%;" loading="lazy"></li>
</ul>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>wan_nan</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/" title="ns-3学习">https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/10/29/LEETCODE-TOP100/" rel="prev" title="LEETCODE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">LEETCODE</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/09/03/646-%E6%9C%80%E9%95%BF%E6%95%B0%E5%AF%B9%E9%93%BE/" rel="next" title="646.最长数对链【安排教室使用】（dp/贪心/二分）"><span class="post-nav-text">646.最长数对链【安排教室使用】（dp/贪心/二分）</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 – 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> wan_nan</span></div><div class="live_time"><span>本博客已悄悄运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-03T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="总访客量"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="总访问量"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="8293178209" data-server="tencent" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>