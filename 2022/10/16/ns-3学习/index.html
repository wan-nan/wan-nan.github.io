<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="wan_nan"><meta name="copyright" content="wan_nan"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>ns-3å­¦ä¹  | é£ç‰©</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link rel="icon" href="/dino.png"><link rel="mask-icon" href="/dino.png" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"wan-nan.github.io","root":"/","title":"é£ç‰©çš„å°ç«™","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script>//- only for pjax
function sendPageView() {
  if (CONFIG.hostname !== location.hostname) return;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('event', 'page_view', {
    page_path: encodeURIComponent(location.pathname),
  })
}
document.addEventListener("pjax:success", sendPageView);</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="ã€Šns-3ç½‘ç»œæ¨¡æ‹Ÿå™¨åŸºç¡€åŠåº”ç”¨ã€‹ ã€Šå¼€æºç½‘ç»œæ¨¡æ‹Ÿå™¨ns-3:æ¶æ„ä¸å®è·µã€‹ ç›®å‰æ‰“ç®—ç”¨å¾®ä¿¡è¯»ä¹¦è¯»çš„åŒæ—¶åšæ ‡è®° è¯»å®Œä¸€éƒ¨åˆ†åç»Ÿä¸€æ•´ç†åˆ°è¿™é‡Œ  2022&#x2F;10&#x2F;26æ›´æ–°ï¼š è¿˜å¾—æ˜¯è‹±æ–‡æ–‡æ¡£ ns-3 Tutorial Internet Modelså’ŒNetwork Module  200&#x2F;12&#x2F;27æ›´æ–°ï¼š è¿˜å¾—æ˜¯debugğŸ˜­  &#x3D;&#x3D;ä¸€äº›èµ„æºæ±‡æ€»ï¼š&#x3D;&#x3D;  ns3 Google è®ºå›ï¼ˆè¿˜åœ¨æ´»è·ƒæ›´æ–°ï¼‰  z">
<meta property="og:type" content="article">
<meta property="og:title" content="ns-3å­¦ä¹ ">
<meta property="og:url" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="é£ç‰©">
<meta property="og:description" content="ã€Šns-3ç½‘ç»œæ¨¡æ‹Ÿå™¨åŸºç¡€åŠåº”ç”¨ã€‹ ã€Šå¼€æºç½‘ç»œæ¨¡æ‹Ÿå™¨ns-3:æ¶æ„ä¸å®è·µã€‹ ç›®å‰æ‰“ç®—ç”¨å¾®ä¿¡è¯»ä¹¦è¯»çš„åŒæ—¶åšæ ‡è®° è¯»å®Œä¸€éƒ¨åˆ†åç»Ÿä¸€æ•´ç†åˆ°è¿™é‡Œ  2022&#x2F;10&#x2F;26æ›´æ–°ï¼š è¿˜å¾—æ˜¯è‹±æ–‡æ–‡æ¡£ ns-3 Tutorial Internet Modelså’ŒNetwork Module  200&#x2F;12&#x2F;27æ›´æ–°ï¼š è¿˜å¾—æ˜¯debugğŸ˜­  &#x3D;&#x3D;ä¸€äº›èµ„æºæ±‡æ€»ï¼š&#x3D;&#x3D;  ns3 Google è®ºå›ï¼ˆè¿˜åœ¨æ´»è·ƒæ›´æ–°ï¼‰  z">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404000808237.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404001846278.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230812160430943.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230812160930726.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/epub_34659293_80">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/epub_34659293_81">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/epub_34659293_82">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205620652.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205310842.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228210216468.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230317234518827.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230401213209705.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/5J$T3N_NZ8HSPYWFCYNKB.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled-1680533616983.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230403225052999.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230412214659736.png">
<meta property="og:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230715212820230.png">
<meta property="article:published_time" content="2022-10-16T12:37:04.000Z">
<meta property="article:modified_time" content="2023-08-13T12:25:50.309Z">
<meta property="article:author" content="wan_nan">
<meta property="article:tag" content="daily">
<meta property="article:tag" content="ns-3">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404000808237.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="wan_nan"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="wan_nan"><span class="site-author-status" title="sleeping">ğŸ˜´</span></a><div class="site-author-name"><a href="/about/">wan_nan</a></div><span class="site-name">é£ç‰©</span><sub class="site-subtitle">Yeah!</sub><div class="site-desciption">ä¸ªäººåšå®¢</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">55</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">40</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2213324970&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/wan-nan" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%B0%E7%82%B9%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">è®°ç‚¹ç¬”è®°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tutorial"><span class="toc-number">1.1.</span> <span class="toc-text">tutorial</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">1.2.</span> <span class="toc-text">å‘½åç©ºé—´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#trace"><span class="toc-number">1.3.</span> <span class="toc-text">trace</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ns-3%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">ns-3ä½¿ç”¨</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="wan_nan"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="é£ç‰©"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ns-3å­¦ä¹ </h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-10-16 20:37:04" itemprop="dateCreated datePublished" datetime="2022-10-16T20:37:04+08:00">2022-10-16</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-13 20:25:50" itemprop="dateModified" datetime="2023-08-13T20:25:50+08:00">2023-08-13</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">3.2k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">13m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/daily/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">daily</span></a><a class="tag-item" href="/tags/ns-3/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">ns-3</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><blockquote>
<p><a target="_blank" rel="noopener" href="https://weread.qq.com/web/bookDetail/d9f32e40717d2cf0d9f350e">ã€Šns-3ç½‘ç»œæ¨¡æ‹Ÿå™¨åŸºç¡€åŠåº”ç”¨ã€‹</a></p>
<p><a target="_blank" rel="noopener" href="https://weread.qq.com/web/bookDetail/21932bf07210dbdd2191d13">ã€Šå¼€æºç½‘ç»œæ¨¡æ‹Ÿå™¨ns-3:æ¶æ„ä¸å®è·µã€‹</a></p>
<p>ç›®å‰æ‰“ç®—ç”¨å¾®ä¿¡è¯»ä¹¦è¯»çš„åŒæ—¶åšæ ‡è®°</p>
<p>è¯»å®Œä¸€éƒ¨åˆ†åç»Ÿä¸€æ•´ç†åˆ°è¿™é‡Œ</p>
<hr>
<p>2022/10/26æ›´æ–°ï¼š</p>
<p>è¿˜å¾—æ˜¯è‹±æ–‡æ–‡æ¡£</p>
<p><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/tutorial/singlehtml/index.html">ns-3 Tutorial</a></p>
<p>Internet Modelså’ŒNetwork Module</p>
<hr>
<p>200/12/27æ›´æ–°ï¼š</p>
<p>è¿˜å¾—æ˜¯debugğŸ˜­</p>
<hr>
<p>==<strong>ä¸€äº›èµ„æºæ±‡æ€»ï¼š</strong>==</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://groups.google.com/g/ns-3-users">ns3 Google è®ºå›</a>ï¼ˆè¿˜åœ¨æ´»è·ƒæ›´æ–°ï¼‰</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ns-3.zulipchat.com/#all_messages">zulipchat</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Hesy_H/article/details/89358506">ns3å­¦ä¹ èµ„æºæ±‡æ€»</a></p>
</li>
</ul>
 <img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404000808237.png" alt="image-20230404000808237" style="zoom: 50%;" loading="lazy">

<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Hesy_H/article/details/122292513">ns3 åšå®¢ç›®å½•</a></li>
</ul>
 <img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230404001846278.png" alt="image-20230404001846278" style="zoom:33%;" loading="lazy">

<ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013618190/article/details/88059495">ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹è„šæœ¬ç¨‹åº</a></p>
</li>
<li></li>
</ul>
</blockquote>
<h1 id="è®°ç‚¹ç¬”è®°"><a href="#è®°ç‚¹ç¬”è®°" class="headerlink" title="è®°ç‚¹ç¬”è®°"></a>è®°ç‚¹ç¬”è®°</h1><h2 id="tutorial"><a href="#tutorial" class="headerlink" title="tutorial"></a>tutorial</h2><ul>
<li><p>ä½¿ç”¨wafæ¥build ns3é¡¹ç›®æ—¶ï¼Œwafä¾èµ–çš„æ˜¯python2ï¼Œéœ€è¦ä½¿ç”¨<code>sudo python2 ./waf configure</code>æ¥æ„å»ºï¼ˆ<a target="_blank" rel="noopener" href="https://github.com/electronicvisions/waf#:~:text=if%20several%20python%20versions%20are%20installed">æ·»åŠ ä¸Šä½¿ç”¨python2çš„option</a>ï¼‰ï¼Œå¦åˆ™ä¼šæœ‰å„ç§ï¼š</p>
<ul>
<li><p>syntax error</p>
<blockquote>
<p>NameError: name â€˜fileâ€˜ is not definedï¼ˆfile()ï¼Œè§<a target="_blank" rel="noopener" href="https://blog.csdn.net/Scarlett2025/article/details/117442170">è¿™é‡Œ</a>ï¼‰</p>
<p>å¼‚å¸¸çš„æ•è· python2ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">	raise</span><br><span class="line">exceptException, e:</span><br><span class="line">	...</span><br></pre></td></tr></table></figure>

<p>python3ï¼šï¼ˆåŒºåˆ«åœ¨asï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    raise</span><br><span class="line">except Exception as e:</span><br></pre></td></tr></table></figure>

</blockquote>
</li>
<li><p>ä¾èµ–é”™è¯¯ï¼ˆbunzip2: Data integrity error when decompressing.ï¼‰ï¼ˆï¼‰</p>
</li>
</ul>
<p>ä¸èƒ½ç”¨<code>#!/usr/bin/env python2</code>ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/jacobdufault/cquery/issues/23">å‚è€ƒ</a></p>
</li>
<li><p>è¿è¡Œæ—§ç‰ˆæœ¬ns3ç¨‹åºï¼ˆ3.17ï¼‰</p>
<blockquote>
<p>åˆ‡æ¢gccç‰ˆæœ¬ï¼šä¸¤ç§æ–¹æ³•ï¼š<code>sudo update-alternatives --config gcc</code> æˆ– è¿›å…¥<code>/usr/bin</code>æ›´æ”¹è½¯é“¾æ¥</p>
<p>åˆ‡æ¢g++ç‰ˆæœ¬ï¼šåªèƒ½è¿›å…¥<code>/usr/bin</code>æ›´æ”¹è½¯é“¾æ¥</p>
</blockquote>
<ul>
<li><p>æŠ¥é”™<code>NS_LOG_FUNCTION</code>ä¸­çš„<code>&lt;&lt;</code>è¿ç®—ç¬¦é‡è½½é”™è¯¯ï¼š<code>error: ambiguous overload for â€˜operatorï¼œï¼œâ€™ (operand types are â€˜ns3::ParameterLoggerâ€™ and ..</code></p>
<p>è§£å†³ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47633022/article/details/109806180">é™ä½g++çš„ç‰ˆæœ¬è‡³g++-5</a></p>
<p>å…ˆå®‰è£…gcc-5å’Œg++-5ï¼Œ<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44120025/article/details/121318588">å®‰è£…æ•™ç¨‹</a></p>
<blockquote>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæŠŠg++çš„è½¯é“¾æ¥ä¸¢æ‰ï¼Œæ­¤æ—¶<code>g++ --version</code>éƒ½ä¼šæ˜¾ç¤º<code>Command &#39;g++&#39; not found, but can be installed with: sudo apt install g++</code>ï¼Œä½†å®é™…ä¸Šæ˜¯å®‰è£…äº†g++çš„ï¼Œ<strong>å¯ä»¥é€šè¿‡<code>ls/usr/bin/g++*</code>æŸ¥çœ‹å·²æœ‰çš„ç‰ˆæœ¬ï¼ˆåŒ…å«è½¯é“¾æ¥ï¼‰</strong></p>
<p>æ­¤æ—¶éœ€è¦ä¸¤æ­¥ï¼Œ<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0caef3ce8e06">å‚è€ƒ</a></p>
<ol>
<li><code>cd /usr/bin</code> </li>
<li><code>sudo rm -r g++ //ç§»é™¤ä¹‹å‰çš„è½¯é“¾æ¥</code>ï¼ˆåœ¨è½¯é“¾æ¥å­˜åœ¨æ—¶å¯ä»¥ä¸ç”¨è¿™æ­¥ï¼‰</li>
<li><code>sudo ln -sf g++-5 g++ // å»ºç«‹g++-5çš„è½¯é“¾æ¥</code></li>
</ol>
</blockquote>
</li>
<li><p>å¯ä»¥é€šè¿‡<code>sudo update-alternatives --config gcc</code>æ¥å¿«é€Ÿé€‰æ‹©gccç‰ˆæœ¬</p>
<p>ä½†g++ä¸ä»…ä¸èƒ½è¿™æ ·é€‰ï¼Œå¯¹g++ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤è¿˜ä¼šä¸¢å¤±å…¶è½¯é“¾æ¥</p>
</li>
<li><p>æŸ¥çœ‹gccç‰ˆæœ¬ï¼š<code>gcc -v</code></p>
<p>æŸ¥çœ‹g++ç‰ˆæœ¬ï¼š<code>g++ --version</code></p>
</li>
<li><p>åœ¨<code>/usr/bin</code>ä¸‹æœ‰å„ç§åŒ…ï¼Œå…¶ä¸­å°±åŒ…å«gccå’Œg++çš„å„ç§ç‰ˆæœ¬</p>
<p>è½¯é“¾æ¥æ˜¯å°†<code>/usr/bin/g++</code>æŒ‡å‘æŸä¸ªç‰¹å®šçš„ç‰ˆæœ¬ï¼Œå¦‚<code>/usr/bin/g++-5</code>ï¼Œå³ä¸ºg++-xåˆ›å»ºä¸€ä¸ªåä¸ºg++çš„<strong>å¿«æ·æ–¹å¼</strong></p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230812160430943.png" class title="image-20230812160430943" loading="lazy"></li>
<li><p><code>ls/usr/bin/g++*</code>çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230812160930726.png" class title="image-20230812160930726" loading="lazy"></li>
</ul>
</li>
</ul>
<h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h2><p>å¾…è¡¥å……</p>
<h2 id="trace"><a href="#trace" class="headerlink" title="trace"></a>trace</h2><blockquote>
<p>å¦‚æœè¯´å±æ€§å˜é‡æ˜¯æ¨¡æ‹Ÿè„šæœ¬çš„è¾“å…¥ï¼Œé‚£ä¹ˆtraceå˜é‡å°±æ˜¯<strong>æ¨¡æ‹Ÿè„šæœ¬çš„è¾“å‡º</strong>ã€‚å®ƒçš„ç›®çš„æ˜¯å¯¹ç½‘ç»œæ¨¡æ‹Ÿä¸­çš„ä¸€äº›é‡è¦ç½‘ç»œè¡Œä¸ºè¿›è¡Œè®°å½•ï¼Œå¹¶ä»¥ç”¨æˆ·å¯é…ç½®çš„æ ¼å¼è¾“å‡ºè®°å½•ç»“æœã€‚</p>
</blockquote>
<blockquote>
<p>ä¸å±æ€§å˜é‡ä¸€æ ·ï¼Œtraceå˜é‡æœ¬è´¨ä¸Šä¹Ÿæ˜¯C++ç±»çš„æˆå‘˜å˜é‡ã€‚ä½†å®ƒä¸æ˜¯ä¸€èˆ¬ç±»å‹çš„å˜é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆã€‚åœ¨ä½¿ç”¨æ—¶ï¼Œç”¨æˆ·éœ€è¦åœ¨è„šæœ¬ä¸­é¢„å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ˆå³å›è°ƒå‡½æ•°callbackï¼‰ï¼Œç„¶åé€šè¿‡traceç³»ç»Ÿå°†å…¶ä¸æŸä¸ªC++å¯¹è±¡å†…éƒ¨çš„å‡½æ•°æŒ‡é’ˆï¼ˆtraceå˜é‡ï¼‰ç›¸å…³è”ã€‚åœ¨æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­ï¼Œæ¯å½“æœ‰ç‰¹å®šçš„ç½‘ç»œè¡Œä¸ºå‘ç”Ÿæ—¶ï¼Œns-3æºä»£ç å°±ä¼šè°ƒç”¨ç›¸åº”çš„traceå˜é‡å‡½æ•°æŒ‡é’ˆï¼Œè¿›è€Œè§¦å‘è„šæœ¬ä¸­çš„å›è°ƒå‡½æ•°ã€‚åŒæ—¶ä¸€äº›é‡è¦çš„æ¨¡æ‹Ÿæ•°æ®ä¼šé€šè¿‡å›è°ƒå‡½æ•°å‚æ•°åˆ—è¡¨çš„å½¢å¼ä¼ é€’ç»™è„šæœ¬ã€‚è¿™æ ·é€šè¿‡åœ¨è„šæœ¬çš„å›è°ƒå‡½æ•°ä¸­æ‰“å°ç›¸å…³ä¿¡æ¯ï¼Œå°±å¯ä»¥åœ¨æ¨¡æ‹Ÿè¿è¡Œè¿‡ç¨‹ä¸­è·å–æœ‰ç”¨æ•°æ®ã€‚æ­¤å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰ä¿¡æ¯è¾“å‡ºæ ¼å¼å’Œå¯¹è±¡ï¼ˆå¦‚å±å¹•ã€æœ¬åœ°æ–‡ä»¶ç­‰ï¼‰ã€‚ä»¥ä¸Šå°±æ˜¯ns-3ä¸­æ•°æ®æå–çš„åŸºæœ¬è¿‡ç¨‹ï¼ˆè§ä¸‹å›¾ï¼‰ã€‚</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/epub_34659293_80" alt="img" style="zoom: 50%;" loading="lazy">
</blockquote>
<ul>
<li><p>traceå˜é‡çš„é…ç½®æ–¹æ³•å¯ä»¥æ ¹æ®<strong>å•æ¬¡å¯é…ç½®traceçš„æ•°é‡</strong>åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»</p>
<p>åŠ©æ‰‹ç±»<code>Config::Connect()</code>å’Œ<code>ObjectBase::TraceConnect()</code>ï¼Œæ³¨æ„ä¸¤ä¸ªå‡½æ•°<strong>ä¸æ˜¯åŒä¸€ä¸ªç±»çš„</strong></p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/epub_34659293_81" alt="img" style="zoom:50%;" loading="lazy">

<ul>
<li><p><code>Config::Connect()</code></p>
<ul>
<li><p>å‡½æ•°åŸå‹ï¼š</p>
<p><code>void ns3::Config::Connect(std::string path, const ns3::CallbackBase &amp;cb)</code></p>
</li>
<li><p>å‚æ•°ï¼š</p>
<blockquote>
<p><code>[in]</code> â€“ path A path to match trace sources.ï¼ˆtraceå˜é‡å‘½åç©ºé—´è·¯å¾„ï¼‰<br><code>[in]</code> â€“ cb The callback to connect to the matching trace sources.ï¼ˆå›è°ƒå‡½æ•°æŒ‡é’ˆï¼‰</p>
</blockquote>
</li>
<li><p>ä¾‹å­ï¼š</p>
<p><code>Config::Connect (&quot;NodeList/*/DeviceList/*/$ns3::PointToPointNetDevice/MacTx&quot;, MakeCallback(&amp; MacTxCallback));</code></p>
<p>ä¸Šé¢è¿™ä¸ªä¾‹å­çš„å‘½åç©ºé—´è·¯å¾„å³å¯matchå¤šä¸ªtraceï¼Œè¿™æ­£æ˜¯Config::Connect()å¯ä»¥å•æ¬¡é…ç½®å¤šä¸ªtraceçš„åŸå› ï¼ˆå¯ä»¥åœ¨å‘½åç©ºé—´è·¯å¾„ä¸­ä½¿ç”¨é€šé…ç¬¦ï¼‰</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/epub_34659293_82" alt="img" style="zoom: 43%;" loading="lazy">

<blockquote>
<p>ä¸Šé¢è¿™æ®µä»£ç å°†ä¸€ä¸ªè„šæœ¬ä¸­å®šä¹‰çš„MacTxCallback()å›è°ƒå‡½æ•°æŒ‡é’ˆèµ‹å€¼ç»™<strong>æ‰€æœ‰</strong>PPPç½‘ç»œè®¾å¤‡PointToPointNetDeviceå¯¹è±¡çš„MacTx traceå˜é‡ã€‚æ¯å½“ä¸€ä¸ªPointToPointNetDeviceå‘é€åˆ†ç»„æ—¶ï¼ŒMacTxCallback()å‡½æ•°å°±ä¼šè¢«æ‰§è¡Œå¹¶æ‰“å°åˆ†ç»„çš„æ¥æ”¶æ—¶é—´å’Œå­—èŠ‚å¤§å°ã€‚</p>
</blockquote>
</li>
</ul>
</li>
<li><p><code>Config::ConnectWithoutContext()</code></p>
<blockquote>
<p>å¦‚æœ<strong>ä¸æƒ³æ‰“å°å‘½åç©ºé—´è·¯å¾„</strong>ï¼Œåˆ™å¯ä»¥ä½¿ç”¨Config::ConnectWithoutContext()å‡½æ•°ã€‚å…¶ä½¿ç”¨æ–¹æ³•å’Œå‚æ•°ä¸Config::Connect()åŸºæœ¬ç›¸åŒã€‚</p>
</blockquote>
<ul>
<li><p>å‡½æ•°åŸå‹ï¼š</p>
<p><code>void ns3::Config::ConnectWithoutContext(std::string path, const ns3::CallbackBase &amp;cb)</code></p>
</li>
<li><p>å‚æ•°ï¼š</p>
</li>
</ul>
<p>ä¸Config::Connect()ç›¸åŒ</p>
</li>
</ul>
</li>
<li><p><code>ObjectBase::TraceConnect()</code></p>
<ul>
<li><p>å‡½æ•°åŸå‹ï¼š</p>
<p><code>bool ns3::ObjectBase::TraceConnect(std::string name, std::string context, const ns3::CallbackBase &amp;cb)</code></p>
</li>
<li><p>å‚æ•°ï¼š</p>
<blockquote>
<p><code>[in]</code> â€“ name The name of the target trace source.<br><code>[in]</code> â€“ context The trace context associated to the callback.<br><code>[in]</code> â€“ cb The callback to connect to the trace source.</p>
</blockquote>
</li>
<li><p>ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">connected = emitter-&gt;<span class="built_in">TraceConnect</span> (<span class="string">&quot;Counter&quot;</span>, <span class="string">&quot;sample context&quot;</span>, <span class="built_in">MakeCallback</span> (&amp;NotifyViaTraceSource));</span><br><span class="line"><span class="built_in">NS_ASSERT_MSG</span> (connected, <span class="string">&quot;Trace source not connected&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>å¦‚ä½ æ‰€è§ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­å•æ¬¡åªé…ç½®äº†emitterä¸­çš„ä¸€ä¸ªtraceï¼ˆ<strong>å•æ¬¡ä¸€ä¸ª</strong>ï¼‰</p>
<p>ä¸”ä¸Config::Connect()çš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒObjectBase::TraceConnect()ç›´æ¥ä»ä»£ç ä¸­è·å–å¯¹è±¡ï¼ˆç›´æ¥è°ƒç”¨äº†å¯¹è±¡emitterçš„TraceConnect()æ–¹æ³•ï¼‰ï¼Œè€ŒConfig::Connect()åˆ™é€šè¿‡å‘½åç©ºé—´è·¯å¾„æ¥è·å–å¯¹è±¡</p>
</li>
<li><p><code>ObjectBase::TraceConnectWithoutContext()</code></p>
<p>è¯¥å‡½æ•°æ²¡æœ‰contextå‚æ•°ï¼Œä¸ä¼šè¾“å‡ºæŒ‡å®šçš„contextå­—ç¬¦ä¸²ï¼ˆcontextæ„ä¸ºä¸Šä¸‹æ–‡ï¼Œå°±æ˜¯ä½œä¸ºä¸€ä¸ªæ™®é€šçš„stringè¾“å‡ºæ¥æç¤ºè¯­å¢ƒçš„ï¼‰</p>
<ul>
<li><p>å‡½æ•°åŸå‹ï¼š</p>
<p><code>bool ns3::ObjectBase::TraceConnectWithoutContext(std::string name, const ns3::CallbackBase &amp;cb)</code></p>
</li>
<li><p>å‚æ•°ï¼š</p>
<blockquote>
<p><code>[in]</code> â€“ name The name of the target trace source.<br><code>[in]</code> â€“ cb The callback to connect to the trace source.</p>
</blockquote>
</li>
<li><p>ä¾‹å­ï¼š</p>
<p><code>senderSocket-&gt;TraceConnectWithoutContext (&quot;CongestionWindow&quot;, MakeBoundCallback (&amp;CwndChange, nodeDevAddrs[LPUs[i]][0].second, tcpSocket));</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>åªèƒ½åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„C++å¯¹è±¡ä¸Šé…ç½®traceå˜é‡</p>
<blockquote>
<p>å› ä¸ºns-3å¹¶æ²¡æœ‰æä¾›traceå˜é‡çš„é»˜è®¤å€¼ã€‚åœ¨å¯¹è±¡åˆ›å»ºæ—¶æ— æ³•æ ¹æ®äº‹å…ˆé…ç½®å¥½çš„å‡½æ•°æŒ‡é’ˆæ¥åˆå§‹åŒ–traceå˜é‡ã€‚</p>
<p>æ­¤å¤–ï¼Œtraceå˜é‡ä½œä¸ºå¯¹è±¡ä¸­çš„ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œåœ¨å¯¹è±¡æœªåˆ›å»ºã€æœªéé…å†…å­˜æ—¶æ˜¯æ— æ³•è¿›è¡Œé…ç½®çš„ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬é€šå¸¸æŠŠtraceå˜é‡çš„é…ç½®æ“ä½œæ”¾åœ¨ç½‘ç»œæ‹“æ‰‘å’Œåº”ç”¨å»ºç«‹å®Œæˆä¹‹åçš„åŸå› ï¼ˆä½†<strong>å¿…é¡»åœ¨Simulator::Run()ä¹‹å‰</strong>ï¼‰ã€‚è¿™æ—¶å„ä¸ªç½‘ç»œå±‚çš„ä¸»è¦C++å¯¹è±¡éƒ½å·²ç»å»ºç«‹å®Œæ¯•ã€‚</p>
</blockquote>
<p>ä¸€ä¸ª<strong>ä¾‹å¤–</strong>æ˜¯å¥—æ¥å­—ï¼ˆSocketï¼‰å¯¹è±¡</p>
<blockquote>
<p>ns-3çš„å†…ç½®åº”ç”¨ï¼ˆå¦‚BulkSendApplicationåœ¨StartApplication()ä¸­è°ƒç”¨Socket::CreateSocket()ï¼‰ä½¿ç”¨Socketå¯¹è±¡å‘ä¼ è¾“å±‚å‘é€åˆ†ç»„ã€‚ç”±äºè¿™äº›å†…ç½®åº”ç”¨çš„<strong>Socketå¯¹è±¡éƒ½æ˜¯åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ‰è¢«åˆ›å»ºï¼ˆè¿™ä¹Ÿç¬¦åˆå®é™…ï¼Œåœ¨ibcçš„MsgGeneratorAppä¸­ï¼Œsocketåœ¨applicationè¢«installæ—¶å°±è¢«åˆ›å»ºï¼Œè¿™å¹¶ä¸ç¬¦åˆå®é™…ï¼‰</strong>ï¼Œå› æ­¤ç›´æ¥åœ¨è„šæœ¬ä¸­ä¸ºSocketå¯¹è±¡çš„traceå˜é‡è®¾ç½®å›è°ƒå‡½æ•°ä¼šå¼•èµ·ç¨‹åºå´©æºƒã€‚</p>
<p>è¿™æ—¶ä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„åšæ³•æ˜¯åœ¨è„šæœ¬ä¸­ä½¿ç”¨<strong>Schedule()å‡½æ•°æŠŠé…ç½®traceå˜é‡çš„æ—¶é—´ç‚¹æ”¾åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨ä¹‹å</strong>ã€‚</p>
<p>å¯¹è¿™éƒ¨åˆ†æ“ä½œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥å‚è€ƒsrc/traffic-control/examples/codel-vs-pfifo-asymmetric.ccè„šæœ¬ä¸­çš„TraceCwnd()å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨åçš„0.00001sè¢«è°ƒç”¨å¹¶ä¸ºtraceå˜é‡é…ç½®å›è°ƒå‡½æ•°ã€‚</p>
</blockquote>
</li>
<li><p>ä¸ºä¸€ä¸ªtraceå˜é‡å…³è”å¤šä¸ªå›è°ƒå‡½æ•°</p>
<p>traceç³»ç»Ÿè¿˜æ”¯æŒä¸ºä¸€ä¸ªtraceå˜é‡å…³è”å¤šä¸ªå›è°ƒå‡½æ•°ã€‚å½“traceå˜é‡è¢«è§¦å‘æ—¶ï¼Œè¿™äº›å›è°ƒå‡½æ•°ä¾æ¬¡è¢«æ‰§è¡Œã€‚è¯»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å¯¹åŒä¸€ä¸ªtraceå˜é‡è¾“å‡ºä¸åŒçš„è®°å½•å†…å®¹ã€‚</p>
</li>
<li><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨<code>MakeBoundCallback()</code>å‡½æ•°<strong>å°†æ›´å¤šç”¨æˆ·æŒ‡å®šçš„å‚æ•°ä¼ é€’ç»™å›è°ƒå‡½æ•°</strong></p>
</li>
</ul>
<h2 id="ns-3ä½¿ç”¨"><a href="#ns-3ä½¿ç”¨" class="headerlink" title="ns-3ä½¿ç”¨"></a>ns-3ä½¿ç”¨</h2><ul>
<li><p><strong>è·å–Header</strong></p>
<p>è·å–<code>Ipv4Header</code>å’Œ<code>TcpHeader</code>è¿™ç§Headeræ—¶æœ€å¥½ç”¨<code>PeekHeader()</code></p>
<p>ä¸ç„¶ç”¨<code>RemoveHeader()</code>è¿˜è¦è®°å¾—å†<code>AddHeader()</code></p>
<p><strong>ä½†æ˜¯å¥½åƒè¦è·å–TcpHeaderå¿…é¡»è¦å…ˆæŠŠå¤–é¢çš„PppHeaderå’ŒIpv4Headerå»æ‰</strong></p>
</li>
<li><p><strong>DynamicCast</strong></p>
<p>QueueDiscItemä¸­æ²¡æœ‰<code>Ipv4Header</code>ï¼Œå³ä½¿QueueDiscå±‚åœ¨ipå±‚ä¸‹é¢ï¼Œæ²¡åŠæ³•ç›´æ¥ç”¨QueueDiscItemè·å–Ipv4Header</p>
<p>ä½†æ˜¯<code>TrafficControlLayer::Send()</code>è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ˜¯<code>Ptr&lt;QueueDiscItem&gt;</code></p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205620652.png" alt="image-20230228205620652" style="zoom: 80%;" loading="lazy">

<p>è°ƒç”¨è€…ä¼ å…¥çš„æ˜¯<code>Ptr&lt;Ipv4QueueDiscItem&gt;</code>ç±»å‹ã€è¿™æ˜¯ä¸ºäº†é¿å…å¯èƒ½æ˜¯Ipv6ã€‘</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228205310842.png" class title="image-20230228205310842" loading="lazy">

<p><code>Ipv4QueueDiscItem</code>æ˜¯<code>QueueDiscItem</code>çš„å­ç±»ï¼Œ<code>TrafficControlLayer::Send()</code>å‡½æ•°ä¸­å¯ä»¥ç”¨<strong>DynamicCast</strong>å°†<code>QueueDiscItem</code>è½¬æ¢ä¸º<code>Ipv4QueueDiscItem</code>ç±»å‹ï¼ˆå³<strong>ä¸‹è¡Œè½¬æ¢</strong>ï¼‰</p>
<p>ä¸‹è¡Œè½¬æ¢ä¸­ï¼Œæœ€å¥½ç”¨dynamic_castï¼Œè€Œ<code>DynamicCast</code>æ˜¯ns-3å¯¹dynamic_castçš„å°è£…</p>
<ul>
<li><p>å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼Œè®²å¾—å¾ˆå¥½ï¼š[C++ä¸­static_castå’Œdynamic_castå¼ºåˆ¶ç±»å‹è½¬æ¢(<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_26849233/article/details/62218385">https://blog.csdn.net/qq_26849233/article/details/62218385</a>)</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230228210216468.png" class title="image-20230228210216468" loading="lazy"></li>
<li><p>æ‰€ä»¥åŸé—®é¢˜è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Ptr&lt;Ipv4QueueDiscItem&gt; ipv4Item = DynamicCast&lt;Ipv4QueueDiscItem&gt;(item);</span><br><span class="line">Ipv4Header ip = ipv4Item-&gt;<span class="built_in">GetHeader</span>();</span><br><span class="line"><span class="keyword">uint32_t</span> srcAddr = ip.<span class="built_in">GetSource</span>().<span class="built_in">Get</span>();</span><br><span class="line"><span class="keyword">uint32_t</span> dstAddr = ip.<span class="built_in">GetDestination</span>().<span class="built_in">Get</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>packet size != segment size</p>
<p>messageçš„æœ«å°¾å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µ</p>
</li>
<li><p>ä½¿ç”¨stlä¸­çš„<code>string</code></p>
<p>ä¸éœ€è¦<code>#include &lt;string&gt;</code>ï¼Œåªéœ€è¦ç›´æ¥ç”¨<code>std::string</code>å£°æ˜</p>
</li>
<li><p>cmakeå¯ä»¥è®¾ç½®debugæ¨¡å¼å’Œreleaseæ¨¡å¼</p>
<p>ä¸¤ä¸ªæ¨¡å¼æœ‰ä¸€äº›åŒºåˆ«ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39382769/article/details/102830571">ã€C++ã€‘Debugæ¨¡å¼å’ŒReleaseæ¨¡å¼çš„åŒºåˆ«</a></p>
<p>cmakeä¸­è®¾ç½®çš„æ–¹æ³•ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/hankern/article/details/98711737">cmakeçš„debugå’Œreleaseæ¨¡å¼è®¾ç½®</a></p>
<p><strong>édebugæ¨¡å¼</strong>ä¼š<code>#define NDEBUG</code>è¿™ä¸ªå®</p>
</li>
<li><p>ä¸ºä»€ä¹ˆapplicationå¯åŠ¨æ—¶é—´éœ€è¦ç”¨ä¸€ä¸ªå€¼ï¼Œä¸æ˜¯0</p>
<blockquote>
<p>åœ¨æµå¯åŠ¨ä¹‹å‰æœ‰ä¸€äº›ä¸œè¥¿å¯èƒ½è¦é…ç½®ï¼Œåœ¨æˆ‘ä»¬è¿™é‡Œä¼¼ä¹æ²¡æœ‰ï¼Œä¸»è¦æ˜¯ä¸ºäº†é¿å…é™æ€é…ç½®å’ŒåŠ¨æ€é…ç½®ä¹‹é—´å‡ºé”™</p>
<p>å¦‚æœè®¾ç½®æˆ0çš„è¯</p>
<p>æœ‰å¯èƒ½æµå¯åŠ¨çš„äº‹ä»¶å°±æ’åœ¨é…ç½®äº‹ä»¶é‡Œï¼Œå°±å¯èƒ½å‡ºé”™</p>
<p>ä¹Ÿå¯ä»¥æ˜¯0.001sï¼Œæ— æ‰€è°“ï¼Œåæ­£åé¢ç®—é€Ÿç‡çš„æ—¶å€™éƒ½è¦å‡æ‰åˆšå¼€å§‹è¿™ä¸ªæ—¶é—´</p>
</blockquote>
</li>
<li><p>DelACKCounté»˜è®¤å€¼å±…ç„¶æ˜¯2ï¼ï¼</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230317234518827.png" alt="image-20230317234518827" style="zoom:67%;" loading="lazy"></li>
<li><p>ns3ä¸­TCPçš„æ–­è¿Rtoæ¬¡æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œè¶…è¿‡é™åˆ¶æ¬¡æ•°è¿æ¥å°±ä¼šdrop</p>
<p>ä¸‹å›¾è¿™ä¿©ä¸€ä¸ªæ˜¯å»ºç«‹è¿æ¥è¿‡ç¨‹ä¸­çš„Rtoæ¬¡æ•°é™åˆ¶ï¼Œä¸€ä¸ªæ˜¯å»ºç«‹è¿æ¥åçš„Rtoæ¬¡æ•°é™åˆ¶</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230401213209705.png" alt="image-20230401213209705" style="zoom:67%;" loading="lazy"></li>
<li><p>m_tcbâ†’m_cWnd æƒ³äº†ä¸ª<strong>æ­ªç‚¹å­</strong> ç”¨<strong>å›è°ƒ</strong>æ¥ä¿è¯ä¿®æ”¹æ‰€æœ‰åœ°æ–¹</p>
<ul>
<li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šç›´æ¥ç”¨<code>Simulator::Schedule (Seconds(0), &amp;modifyCwndSize, tcpSocket, fixedCwndValue);</code> æœ‰é£é™©ï¼Œ<strong>ns3ä¼šåœ¨åŒä¸€ä¸ªeventé‡Œé¢ä¿®æ”¹åä½¿ç”¨çª—å£çš„å€¼</strong></p>
</li>
<li><p>è¿™é‡Œçš„è§£å†³æ–¹æ³•æ˜¯ï¼šä¿®æ”¹å›è°ƒåº•å±‚çš„ï¼ˆèµ‹å€¼ï¼‰å’Œï¼ˆè°ƒç”¨å‡½æ•°æŒ‡é’ˆï¼‰çš„é¡ºåºï¼Œè§ä¸‹å›¾ï¼ˆè·¯å¾„ï¼šsrc/core/model/traced-value.hï¼‰</p>
<p>ï¼ˆæˆ‘æ˜¯å¦å¤–é‡æ–°è·‘äº†ä¸€éåŸæ¥çš„å®éªŒï¼Œç¡®ä¿ä¿®æ”¹å‰åä¸ä¼šæ”¹å˜ç»“æœï¼‰</p>
<p>ï¼ˆ<strong>ä½†æ˜¯åˆ°åº•ä¼šæœ‰ä»€ä¹ˆå‰¯ä½œç”¨ï¼Œå°šæœªå‘ç°</strong>ï¼‰</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled.png" alt="Untitled" style="zoom:67%;" loading="lazy"></li>
</ul>
</li>
<li><p>åº”ç”¨å±‚å’ŒL4äº¤äº’</p>
<p>applicationä¸æ–­å‹åŒ… å’Œ æœ‰ä¸€ä¸ªå¾ˆå¤§çš„SendBufferç­‰æ•ˆ<br>ï¼ˆåœ¨ç½‘ç»œçœ‹æ¥ç­‰æ•ˆï¼‰</p>
</li>
<li><p>ns-3ä¸­Senderç«¯TrafficControlå±‚ä¼šä¸¢åŒ…</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/5J$T3N_NZ8HSPYWFCYNKB.png" alt="img" style="zoom:67%;" loading="lazy"></li>
<li><p>tcå±‚çš„queueï¼ˆqdiscï¼‰å’Œdeviceå±‚çš„queue</p>
<p><strong>ä¸€èˆ¬DropTailQueueçš„MaxSizeéƒ½è®¾ç½®æˆ1p</strong></p>
<p>é—®é¢˜æ¥æºï¼š</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/Untitled-1680533616983.png" alt="Untitled" style="zoom:80%;" loading="lazy">

<p>è§£ç­”ï¼š</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230403225052999.png" alt="image-20230403225052999" style="zoom: 67%;" loading="lazy">

<p>==è‡ªå·±çš„æƒ³æ³•ï¼šåœ¨NetDeviceå±‚çš„é˜Ÿåˆ—ä¸­ï¼Œåªä¼šç´¯ç§¯ä¸€ä¸ªæ¥æºçš„åŒ…ï¼›ä½†æ˜¯åœ¨traffic-controlå±‚çš„é˜Ÿåˆ—ä¸­ï¼Œå¤šä¸ªæ¥æºçš„åŒ…æ±‡èšï¼Œæ‰ä¼šå‡ºç°é˜Ÿåˆ—å¢é•¿ï¼Œä»¥åŠä¸¢åŒ…==</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xinwenfei/article/details/72599103">æµ…æNS3ä¸­å„ä¸ªæµé‡å‘é€åº”ç”¨çš„å¼‚åŒ</a></p>
<ul>
<li><p><strong>UdpEcho</strong></p>
</li>
<li><p><strong>OnOffApplication</strong></p>
</li>
<li><p><strong>BulkSendApplication</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/doxygen/db/d92/group__bulksend.html#details">å®˜æ–¹æ–‡æ¡£æè¿°</a></p>
<blockquote>
<p>This traffic generator simply sends data as fast as possible up to MaxBytes or until the application is stopped (if MaxBytes is zero).</p>
<p>Once the lower layer send buffer is filled, it waits until space is free to send more data, essentially keeping a constant flow of data. Only SOCK_STREAM and SOCK_SEQPACKET sockets are supported. For example, TCP sockets can be used, but UDP sockets can not be used.</p>
</blockquote>
</li>
<li><p><strong>UdpClient</strong></p>
<p>UdpClientå°±æ˜¯Installä¸€æ¬¡å‘ä¸€æ®µæ•°æ®ï¼Œä¸€æ®µæ•°æ®å¯ä»¥æœ‰å¾ˆå¤šä¸ªåŒ…ï¼Œæ‰€ä»¥ä¼šæœ‰MaxPacketså’ŒIntervalä½œä¸ºå‚æ•°</p>
</li>
</ul>
</li>
<li><p>DCEå’ŒNSC</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/release/3.2/manual/manual_45.html">NSCï¼ˆNetwork Simulation Cradleï¼‰</a>ï¼š</p>
<blockquote>
<p>The Network Simulation Cradle (NSC) is a framework for wrapping real-world network code into simulators, allowing simulation of real-world behavior at little extra cost. This work has been validated by comparing situations using a test network with the same situations in the simulator. To date, it has been shown that the NSC is able to produce extremely accurate results. NSC supports four real world stacks: FreeBSD, OpenBSD, lwIP and Linux.</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.nsnam.org/about/projects/direct-code-execution/">DCEï¼ˆDirect Code Executionï¼‰</a>ï¼š</p>
<blockquote>
<p>Direct Code Execution (DCE) is a framework for ns-3 that provides facilities to execute, within ns-3, existing implementations of userspace and kernelspace network protocols or applications without source code changes. For example, instead of using ns-3â€™s implementation of a ping-like application, you can use the real ping application. You can also use the Linux networking stack in simulations.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>ns3ä¸­çš„<a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/models/html/error-model.html">Error Model</a>ï¼š</p>
<blockquote>
<p>This section documents a few error model objects, typically associated with NetDevice models, that are maintained as part of the <code>network</code> module:</p>
<ul>
<li>RateErrorModel</li>
<li>ListErrorModel</li>
<li>ReceiveListErrorModel</li>
<li>BurstErrorModel</li>
</ul>
<p>Error models are used to indicate that a packet should be considered to be errored, according to the underlying (possibly stochastic or empirical) error model.</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/release/3.19/doxygen/classns3_1_1_burst_error_model.html"><strong>ns3::BurstErrorModel</strong></a></li>
<li><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/doxygen/d6/de9/classns3_1_1_rate_error_model.html"><strong>ns3::RateErrorModel</strong></a></li>
</ul>
</li>
<li><p>ns3::TCPä¸­çš„mark as lostç®—æ³•ï¼š</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230412214659736.png" alt="image-20230412214659736" style="zoom: 80%;" loading="lazy"></li>
<li><p>nodeã€deviceã€QueueDiscã€Ipçš„å…³ç³»ï¼š</p>
<p>ä¸€ä¸ªnodeå¯ä»¥æœ‰å¤šä¸ªdeviceï¼ˆä¸€ä¸ªdeviceå°±ç›¸å½“äºä¸€ä¸ªç½‘å¡ï¼‰ï¼Œnode Aæ¯ä¸åˆ«çš„nodeå»ºç«‹ä¸€ä¸ªchannelå°±éœ€è¦ä¸€ä¸ªdevice</p>
<p>ä¸€ä¸ªdeviceæœ‰ä¸€ä¸ªQueueDiscï¼Œä¸€ä¸ªIp</p>
<p><code>std::map&lt;Ptr&lt;Node&gt;, std::vector&lt;std::pair&lt;Ptr&lt;NetDevice&gt;, ns3::Ipv4Address &gt; &gt; &gt; nodeDevAddrs;</code></p>
<p>è¿™ä¸ªæ•°æ®ç»“æ„å¯ä»¥æè¿°å¯¹åº”å…³ç³»</p>
<p><strong>node:device=1:n</strong></p>
<p><strong>device:QueueDisc=1:1</strong></p>
<p><strong>device:IP=1:1</strong></p>
<ul>
<li><p>æ‰€ä»¥ï¼Œæ’é˜Ÿéƒ½åœ¨egressé˜Ÿåˆ—ä¸­æ’</p>
<img src="/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/image-20230715212820230.png" alt="image-20230715212820230" style="zoom:67%;" loading="lazy"></li>
</ul>
</li>
<li><p><code>QueueDiscItem</code>ï¼Œæ˜¯<code>Ipv4QueueDiscItem</code>çš„åŸºç±»ï¼Œè¦ç”¨<code>DynamicCast</code>è½¬ä¸€ä¸‹æ‰èƒ½ä½¿ç”¨<code>Ipv4QueueDiscItem</code>è¿™ä¸ªç±»å‹çš„æ¥å£</p>
<p>å¯¹<code>QueueDiscItem</code>ç›´æ¥ç”¨<code>-&gt;GetPacket ()-&gt;GetSize()</code>å¾—åˆ°çš„æ˜¯ä»…åˆ°L4çš„åŒ…ï¼ˆæ²¡æœ‰ipv4å¤´ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ç”¨<code>Ipv4QueueDiscItem</code>çš„<code>GetHeader</code>æ‹¿åˆ°ipv4å¤´ï¼Œæ‰èƒ½åˆ¤æ–­æ˜¯UDPåŒ…è¿˜æ˜¯TCPåŒ…</p>
</li>
<li><p>TCPä¸å­˜åœ¨ç»™å®šé€Ÿç‡çš„åšæ³•ï¼Œå› ä¸ºå…¶é€Ÿç‡æ˜¯é€šè¿‡AIMDè‡ªå·±æ¢æµ‹å‡ºæ¥çš„</p>
<p>UDPæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œéœ€è¦ç›´æ¥è®¾å®šé€Ÿç‡</p>
</li>
</ul>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>wan_nan</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/" title="ns-3å­¦ä¹ ">https://wan-nan.github.io/2022/10/16/ns-3%E5%AD%A6%E4%B9%A0/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/10/29/LEETCODE-TOP100/" rel="prev" title="LEETCODE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">LEETCODE</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/09/03/646-%E6%9C%80%E9%95%BF%E6%95%B0%E5%AF%B9%E9%93%BE/" rel="next" title="646.æœ€é•¿æ•°å¯¹é“¾ã€å®‰æ’æ•™å®¤ä½¿ç”¨ã€‘ï¼ˆdp/è´ªå¿ƒ/äºŒåˆ†ï¼‰"><span class="post-nav-text">646.æœ€é•¿æ•°å¯¹é“¾ã€å®‰æ’æ•™å®¤ä½¿ç”¨ã€‘ï¼ˆdp/è´ªå¿ƒ/äºŒåˆ†ï¼‰</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 â€“ 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> wan_nan</span></div><div class="live_time"><span>æœ¬åšå®¢å·²æ‚„æ‚„è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-03T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="8293178209" data-server="tencent" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>