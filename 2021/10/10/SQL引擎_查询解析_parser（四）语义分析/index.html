<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="wan_nan"><meta name="copyright" content="wan_nan"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>SQLå¼•æ“_æŸ¥è¯¢è§£æ_parserï¼ˆå››ï¼‰è¯­ä¹‰åˆ†æ | é£ç‰©</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><link rel="icon" href="/dino.png"><link rel="mask-icon" href="/dino.png" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"wan-nan.github.io","root":"/","title":"é£ç‰©çš„å°ç«™","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="parseræŸ¥è¯¢è§£æ-è¯­ä¹‰åˆ†æå…³äºè¯­ä¹‰åˆ†æ è¯­ä¹‰åˆ†ææ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ä¸€ä¸ªé€»è¾‘é˜¶æ®µï¼Œ è¯­ä¹‰åˆ†æçš„ä»»åŠ¡æ˜¯å¯¹ç»“æ„ä¸Šæ­£ç¡®çš„æºç¨‹åºè¿›è¡Œä¸Šä¸‹æ–‡æœ‰å…³æ€§è´¨çš„å®¡æŸ¥ï¼Œè¿›è¡Œç±»å‹å®¡æŸ¥ã€‚ å³å®¡æŸ¥æºç¨‹åºæœ‰æ— è¯­ä¹‰é”™è¯¯ï¼Œä¸ºä»£ç ç”Ÿæˆé˜¶æ®µæ”¶é›†ç±»å‹ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼Œè¯­ä¹‰åˆ†æçš„ä¸€ä¸ªå·¥ä½œæ˜¯è¿›è¡Œç±»å‹å®¡æŸ¥ï¼Œå®¡æŸ¥æ¯ä¸ªç®—ç¬¦æ˜¯å¦å…·æœ‰è¯­è¨€è§„èŒƒå…è®¸çš„è¿ç®—å¯¹è±¡ï¼Œå½“ä¸ç¬¦åˆè¯­è¨€è§„èŒƒæ—¶ï¼Œç¼–è¯‘ç¨‹åºåº”æŠ¥å‘Šé”™è¯¯ã€‚ å¦‚æœ‰çš„ç¼–è¯‘ç¨‹åºè¦å¯¹å®æ•°ç”¨ä½œæ•°ç»„ä¸‹æ ‡çš„æƒ…å†µæŠ¥å‘Šé”™è¯¯ã€‚åˆæ¯”å¦‚æŸäº›">
<meta property="og:type" content="article">
<meta property="og:title" content="SQLå¼•æ“_æŸ¥è¯¢è§£æ_parserï¼ˆå››ï¼‰è¯­ä¹‰åˆ†æ">
<meta property="og:url" content="https://wan-nan.github.io/2021/10/10/SQL%E5%BC%95%E6%93%8E_%E6%9F%A5%E8%AF%A2%E8%A7%A3%E6%9E%90_parser%EF%BC%88%E5%9B%9B%EF%BC%89%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/index.html">
<meta property="og:site_name" content="é£ç‰©">
<meta property="og:description" content="parseræŸ¥è¯¢è§£æ-è¯­ä¹‰åˆ†æå…³äºè¯­ä¹‰åˆ†æ è¯­ä¹‰åˆ†ææ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ä¸€ä¸ªé€»è¾‘é˜¶æ®µï¼Œ è¯­ä¹‰åˆ†æçš„ä»»åŠ¡æ˜¯å¯¹ç»“æ„ä¸Šæ­£ç¡®çš„æºç¨‹åºè¿›è¡Œä¸Šä¸‹æ–‡æœ‰å…³æ€§è´¨çš„å®¡æŸ¥ï¼Œè¿›è¡Œç±»å‹å®¡æŸ¥ã€‚ å³å®¡æŸ¥æºç¨‹åºæœ‰æ— è¯­ä¹‰é”™è¯¯ï¼Œä¸ºä»£ç ç”Ÿæˆé˜¶æ®µæ”¶é›†ç±»å‹ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼Œè¯­ä¹‰åˆ†æçš„ä¸€ä¸ªå·¥ä½œæ˜¯è¿›è¡Œç±»å‹å®¡æŸ¥ï¼Œå®¡æŸ¥æ¯ä¸ªç®—ç¬¦æ˜¯å¦å…·æœ‰è¯­è¨€è§„èŒƒå…è®¸çš„è¿ç®—å¯¹è±¡ï¼Œå½“ä¸ç¬¦åˆè¯­è¨€è§„èŒƒæ—¶ï¼Œç¼–è¯‘ç¨‹åºåº”æŠ¥å‘Šé”™è¯¯ã€‚ å¦‚æœ‰çš„ç¼–è¯‘ç¨‹åºè¦å¯¹å®æ•°ç”¨ä½œæ•°ç»„ä¸‹æ ‡çš„æƒ…å†µæŠ¥å‘Šé”™è¯¯ã€‚åˆæ¯”å¦‚æŸäº›">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/aee5dff887c8413da1dc9fe34fbab719.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/5cf3627c58254259b2159f3b2bf2351f.png">
<meta property="article:published_time" content="2021-10-10T02:58:15.000Z">
<meta property="article:modified_time" content="2021-10-10T03:01:51.158Z">
<meta property="article:author" content="wan_nan">
<meta property="article:tag" content="å­¦ä¹ ">
<meta property="article:tag" content="openGauss">
<meta property="article:tag" content="ä»£ç è¯„æ³¨">
<meta property="article:tag" content="æ•°æ®åº“">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/aee5dff887c8413da1dc9fe34fbab719.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="wan_nan"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="wan_nan"><span class="site-author-status" title="sleeping">ğŸ˜´</span></a><div class="site-author-name"><a href="/about/">wan_nan</a></div><span class="site-name">é£ç‰©</span><sub class="site-subtitle">Yeah!</sub><div class="site-desciption">ä¸ªäººåšå®¢</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">45</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">4</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">37</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2213324970&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/wan-nan" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#parser%E6%9F%A5%E8%AF%A2%E8%A7%A3%E6%9E%90-%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90"><span class="toc-number">1.</span> <span class="toc-text">parseræŸ¥è¯¢è§£æ-è¯­ä¹‰åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90"><span class="toc-number">1.1.</span> <span class="toc-text">å…³äºè¯­ä¹‰åˆ†æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#openGauss-SQL%E5%BC%95%E6%93%8E%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">openGauss-SQLå¼•æ“è¯­ä¹‰åˆ†æå™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB"><span class="toc-number">1.3.</span> <span class="toc-text">ä¸»è¦æºç è§£è¯»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9D%9F%E8%AF%AD"><span class="toc-number">1.4.</span> <span class="toc-text">ç»“æŸè¯­</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://wan-nan.github.io/2021/10/10/SQL%E5%BC%95%E6%93%8E_%E6%9F%A5%E8%AF%A2%E8%A7%A3%E6%9E%90_parser%EF%BC%88%E5%9B%9B%EF%BC%89%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="wan_nan"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="é£ç‰©"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">SQLå¼•æ“_æŸ¥è¯¢è§£æ_parserï¼ˆå››ï¼‰è¯­ä¹‰åˆ†æ</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-10-10 10:58:15" itemprop="dateCreated datePublished" datetime="2021-10-10T10:58:15+08:00">2021-10-10</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">3k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">11m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%BB%BF%E7%9B%9F%E6%9D%AF/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">ç»¿ç›Ÿæ¯</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E5%AD%A6%E4%B9%A0/" style="--text-color:saddlebrown"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">å­¦ä¹ </span></a><a class="tag-item" href="/tags/openGauss/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">openGauss</span></a><a class="tag-item" href="/tags/%E4%BB%A3%E7%A0%81%E8%AF%84%E6%B3%A8/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">ä»£ç è¯„æ³¨</span></a><a class="tag-item" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">æ•°æ®åº“</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="parseræŸ¥è¯¢è§£æ-è¯­ä¹‰åˆ†æ"><a href="#parseræŸ¥è¯¢è§£æ-è¯­ä¹‰åˆ†æ" class="headerlink" title="parseræŸ¥è¯¢è§£æ-è¯­ä¹‰åˆ†æ"></a>parseræŸ¥è¯¢è§£æ-è¯­ä¹‰åˆ†æ</h1><h2 id="å…³äºè¯­ä¹‰åˆ†æ"><a href="#å…³äºè¯­ä¹‰åˆ†æ" class="headerlink" title="å…³äºè¯­ä¹‰åˆ†æ"></a>å…³äºè¯­ä¹‰åˆ†æ</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/8853372?fr=aladdin">è¯­ä¹‰åˆ†æ</a>æ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ä¸€ä¸ªé€»è¾‘é˜¶æ®µï¼Œ è¯­ä¹‰åˆ†æçš„ä»»åŠ¡æ˜¯å¯¹ç»“æ„ä¸Šæ­£ç¡®çš„æºç¨‹åºè¿›è¡Œä¸Šä¸‹æ–‡æœ‰å…³æ€§è´¨çš„å®¡æŸ¥ï¼Œè¿›è¡Œç±»å‹å®¡æŸ¥ã€‚</p>
<p>å³å®¡æŸ¥æºç¨‹åºæœ‰æ— è¯­ä¹‰é”™è¯¯ï¼Œä¸ºä»£ç ç”Ÿæˆé˜¶æ®µæ”¶é›†ç±»å‹ä¿¡æ¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¯­ä¹‰åˆ†æçš„ä¸€ä¸ªå·¥ä½œæ˜¯è¿›è¡Œç±»å‹å®¡æŸ¥ï¼Œå®¡æŸ¥æ¯ä¸ªç®—ç¬¦æ˜¯å¦å…·æœ‰è¯­è¨€è§„èŒƒå…è®¸çš„è¿ç®—å¯¹è±¡ï¼Œå½“ä¸ç¬¦åˆè¯­è¨€è§„èŒƒæ—¶ï¼Œç¼–è¯‘ç¨‹åºåº”æŠ¥å‘Šé”™è¯¯ã€‚</p>
<p>å¦‚æœ‰çš„ç¼–è¯‘ç¨‹åºè¦å¯¹å®æ•°ç”¨ä½œæ•°ç»„ä¸‹æ ‡çš„æƒ…å†µæŠ¥å‘Šé”™è¯¯ã€‚åˆæ¯”å¦‚æŸäº›ç¨‹åºè§„å®šè¿ç®—å¯¹è±¡å¯è¢«å¼ºåˆ¶ï¼Œé‚£ä¹ˆå½“äºŒç›®è¿ç®—æ–½äºä¸€æ•´å‹å’Œä¸€å®å‹å¯¹è±¡æ—¶ï¼Œç¼–è¯‘ç¨‹åºåº”å°†æ•´å‹è½¬æ¢ä¸ºå®å‹è€Œä¸èƒ½è®¤ä¸ºæ˜¯æºç¨‹åºçš„é”™è¯¯ã€‚</p>
</li>
<li><p>è¯­ä¹‰åˆ†ææ˜¯ç¼–è¯‘ç¨‹åºæœ€å®è´¨æ€§çš„å·¥ä½œï¼›ç¬¬ä¸€æ¬¡å¯¹æºç¨‹åºçš„è¯­ä¹‰ä½œå‡ºè§£é‡Šï¼Œå¼•èµ·æºç¨‹åºè´¨çš„å˜åŒ–ã€‚</p>
</li>
<li><p>è¯­ä¹‰åˆ†æå™¨æ‰€å¤„çš„é€»è¾‘ä½ç½®å’Œè¾“å…¥è¾“å‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<img src="https://img-blog.csdnimg.cn/aee5dff887c8413da1dc9fe34fbab719.png" alt="è¯­ä¹‰åˆ†æ" style="zoom:67%;" loading="lazy"></li>
<li><p>ä¸­é—´ä»£ç ï¼šä»‹äºæºè¯­è¨€å’Œç›®æ ‡ä»£ç ä¹‹é—´çš„ä¸€ç§ä»£ç ã€‚</p>
<p>å¼•å…¥ä¸­é—´ä»£ç ï¼š</p>
<ul>
<li>æ–¹ä¾¿ç”Ÿæˆç›®æ ‡ä»£ç </li>
<li>ä¾¿äºä¼˜åŒ–å’Œç§»æ¤</li>
</ul>
</li>
<li><p>ç¬¦å·è¡¨ï¼šæ˜¯ä¸€ç§ä¾›ç¼–è¯‘å™¨ç”¨äºä¿å­˜æœ‰å…³æºç¨‹åºæ„é€ çš„å„ç§ä¿¡æ¯çš„æ•°æ®ç»“æ„ã€‚ç¬¦å·è¡¨çš„æ¯ä¸ªæ¡ç›®ä¸­åŒ…å«ä¸ä¸€ä¸ªæ ‡è¯†ç¬¦ç›¸å…³çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å…¨é¢åœ°åæ˜ è¯¥åå­—çš„å±æ€§åŠå®ƒä»¬åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ç‰¹å¾ã€‚</p>
<p>å¼•å…¥ç¬¦å·è¡¨ï¼š</p>
<ul>
<li>å­˜å‚¨æ ‡è¯†ç¬¦çš„å±æ€§</li>
<li>ä¾¿äºæ£€æŸ¥è¯­ä¹‰é”™è¯¯</li>
<li>åœ¨ä»£ç é˜¶æ®µå¯ä»¥ä½œä¸ºåœ°å€åˆ†é…çš„ä¾æ®</li>
</ul>
</li>
</ul>
<h2 id="openGauss-SQLå¼•æ“è¯­ä¹‰åˆ†æå™¨"><a href="#openGauss-SQLå¼•æ“è¯­ä¹‰åˆ†æå™¨" class="headerlink" title="openGauss-SQLå¼•æ“è¯­ä¹‰åˆ†æå™¨"></a>openGauss-SQLå¼•æ“è¯­ä¹‰åˆ†æå™¨</h2><ul>
<li><p>è¯­ä¹‰åˆ†ææ¨¡å—åœ¨è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æä¹‹åæ‰§è¡Œï¼Œç”¨äºæ£€æŸ¥SQLå‘½ä»¤æ˜¯å¦ç¬¦åˆè¯­ä¹‰è§„å®šï¼Œèƒ½å¦æ­£ç¡®æ‰§è¡Œã€‚</p>
</li>
<li><p>è´Ÿè´£è¯­ä¹‰åˆ†æçš„æ˜¯<code>parse_analyze</code>å‡½æ•°ï¼Œä½äº<code>analyze.cpp</code>ä¸‹ã€‚<code>parse_analyze</code>ä¼šæ ¹æ®è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æå¾—åˆ°çš„è¯­æ³•æ ‘ï¼Œç”Ÿæˆä¸€ä¸ª<code>ParseState</code>ç»“æ„ä½“ç”¨äºè®°å½•è¯­ä¹‰åˆ†æçš„çŠ¶æ€ï¼Œå†è°ƒç”¨<code>transformStmt</code>å‡½æ•°ï¼Œæ ¹æ®ä¸åŒçš„å‘½ä»¤ç±»å‹è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œæœ€åç”ŸæˆæŸ¥è¯¢æ ‘ã€‚</p>
<p><code>analyze.cpp</code>çš„è·¯å¾„ï¼š<code>/src/common/backend/parser/analyze.cpp</code></p>
</li>
<li><p>è¯­ä¹‰åˆ†æå™¨çš„å…³é”®å°±æ˜¯<code>ParseState</code>ç»“æ„ä½“å’Œ<code>transformStmt</code>å‡½æ•°å¯¹ä¸åŒå‘½ä»¤è¯­å¥çš„å¤„ç†æµç¨‹</p>
<p><code>ParseState</code>ä¿å­˜äº†è®¸å¤šè¯­ä¹‰åˆ†æçš„ä¸­é—´ä¿¡æ¯ï¼Œå¦‚åŸå§‹SQLå‘½ä»¤ã€èŒƒå›´è¡¨ã€è¿æ¥è¡¨è¾¾å¼ã€åŸå§‹WINDOWå­å¥ã€FOR UPDATE/FOR SHAREå­å¥ç­‰ã€‚è¯¥ç»“æ„ä½“åœ¨è¯­ä¹‰åˆ†æå…¥å£å‡½æ•°<code>parse_analyze</code>ä¸‹è¢«åˆå§‹åŒ–ï¼Œåœ¨<code>transformStmt</code>å‡½æ•°ä¸‹æ ¹æ®ä¸åŒçš„<code>Stmt</code>å­˜å‚¨ä¸åŒçš„ä¸­é—´ä¿¡æ¯ï¼Œå®Œæˆè¯­ä¹‰åˆ†æåå†è¢«é‡Šæ”¾ã€‚</p>
</li>
</ul>
<h2 id="ä¸»è¦æºç è§£è¯»"><a href="#ä¸»è¦æºç è§£è¯»" class="headerlink" title="ä¸»è¦æºç è§£è¯»"></a>ä¸»è¦æºç è§£è¯»</h2><ul>
<li><p><code>ParseState</code>ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ParseState</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ParseState</span>* <span class="title">parentParseState</span>;</span> <span class="comment">// ç»“æ„ä½“æŒ‡é’ˆï¼ŒæŒ‡å‘å¤–å±‚æŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* p_sourcetext; <span class="comment">// æŒ‡å‘åˆå§‹SQLå‘½ä»¤</span></span><br><span class="line">    List* p_rtable; <span class="comment">// èŒƒå›´è¡¨</span></span><br><span class="line">    List* p_joinexprs;  <span class="comment">// è¿æ¥è¡¨è¾¾å¼</span></span><br><span class="line">	List* p_joinlist;  <span class="comment">// è¿æ¥é¡¹</span></span><br><span class="line">    List* p_relnamespace; <span class="comment">// è¡¨åé›†åˆ</span></span><br><span class="line">    List* p_varnamespace; <span class="comment">// å±æ€§åé›†åˆ</span></span><br><span class="line">    <span class="keyword">bool</span>  p_lateral_active;</span><br><span class="line">    List* p_ctenamespace; <span class="comment">// å…¬å…±è¡¨è¾¾å¼åé›†åˆ</span></span><br><span class="line">    List* p_future_ctes; <span class="comment">// ä¸åœ¨p_ctenamespaceä¸­çš„å…¬å…±è¡¨è¾¾å¼</span></span><br><span class="line">    CommonTableExpr* p_parent_cte;</span><br><span class="line">    List* p_windowdefs; <span class="comment">// WINDOWå­å¥çš„åŸå§‹å®šä¹‰</span></span><br><span class="line">    <span class="keyword">int</span> p_next_resno; <span class="comment">// ä¸‹ä¸€ä¸ªåˆ†é…ç»™ç›®æ ‡å±æ€§çš„èµ„æºå·</span></span><br><span class="line">    List* p_locking_clause; <span class="comment">// åŸå§‹çš„FOR UPDATE/FOR SHAREä¿¡æ¯</span></span><br><span class="line">    Node* p_value_substitute;</span><br><span class="line">    <span class="keyword">bool</span> p_hasAggs; <span class="comment">// æ˜¯å¦æœ‰èšé›†å‡½æ•°</span></span><br><span class="line">    <span class="keyword">bool</span> p_hasWindowFuncs; <span class="comment">// æ˜¯å¦æœ‰çª—å£å‡½æ•°</span></span><br><span class="line">    <span class="keyword">bool</span> p_hasSubLinks; <span class="comment">// æ˜¯å¦æœ‰å­é“¾æ¥</span></span><br><span class="line">    <span class="keyword">bool</span> p_hasModifyingCTE; </span><br><span class="line">    <span class="keyword">bool</span> p_is_insert; <span class="comment">// æ˜¯å¦ä¸ºINSERTè¯­å¥</span></span><br><span class="line">    <span class="keyword">bool</span> p_locked_from_parent;</span><br><span class="line">    <span class="keyword">bool</span> p_resolve_unknowns;</span><br><span class="line">    <span class="keyword">bool</span> p_hasSynonyms;</span><br><span class="line">    Relation p_target_relation; <span class="comment">// ç›®æ ‡è¡¨</span></span><br><span class="line">    RangeTblEntry* p_target_rangetblentry; <span class="comment">// ç›®æ ‡è¡¨åœ¨RangeTableå¯¹åº”çš„é¡¹</span></span><br><span class="line">â€¦â€¦</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><u>è¯¥ç»“æ„ä½“å¯ä»¥å®Œæ•´åœ°å‚¨å­˜è¯­ä¹‰åˆ†æè¿‡ç¨‹ä¸­çš„ä¸­é—´ä¿¡æ¯</u></p>
</li>
<li><p>é‚£ä¹ˆè¯­ä¹‰åˆ†æé˜¶æ®µæ˜¯å¦‚ä½•åŒºåˆ†ä¸åŒå¤„ç†æƒ…å†µçš„å‘¢ï¼Ÿ</p>
<p>åœ¨è¯­ä¹‰åˆ†æè¿‡ç¨‹ä¸­ï¼Œè¯­æ³•æ ‘<code>parseTree</code>ä½¿ç”¨<code>Node</code>èŠ‚ç‚¹è¿›è¡ŒåŒ…è£…ã€‚<code>Node</code>ç»“æ„åªæœ‰ä¸€ä¸ªç±»å‹ä¸º<code>NodeTag</code>æšä¸¾å˜é‡çš„å­—æ®µï¼Œç”¨äºè¯†åˆ«ä¸åŒçš„å¤„ç†æƒ…å†µã€‚æ¯”å¦‚<code>SelectStmt</code> å¯¹åº”çš„<code>NodeTag</code>å€¼ä¸º<code>T_SelectStmt</code>ã€‚Nodeç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    NodeTag type;</span><br><span class="line">&#125; Node;</span><br></pre></td></tr></table></figure>

<p><code>transformStmt</code>å‡½æ•°ä¼šæ ¹æ®Nodeç»“æ„ä½“ä¸­<code>NodeTag</code>çš„å€¼ï¼Œå°†è¯­æ³•æ ‘è½¬åŒ–ä¸ºä¸åŒçš„<code>Stmt</code>ç»“æ„ä½“ï¼Œè°ƒç”¨å¯¹åº”çš„è¯­ä¹‰åˆ†æå‡½æ•°è¿›è¡Œå¤„ç†ã€‚</p>
<p>åœ¨è¯­ä¹‰åˆ†æé˜¶æ®µï¼Œå¯¹äºå‡ ç§ä¸åŒçš„è¯­å¥ï¼Œ<code>openGauss</code>ä¼šå®šä¹‰ä¸åŒçš„<code>NodeTag</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<table>
    <tr>
        <th>NodeTag</th>
        <th>è¯­ä¹‰åˆ†æå‡½æ•°</th>
        <th>è¯´æ˜</th>  
    </tr>
    <tr>
        <td rowspan="3">T_SelectStmt</td>
        <td>transformSelectStmt</td>
        <td>å¤„ç†åŸºæœ¬SELCETè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>transformValuesClause</td>
        <td>å¤„ç†SELCET VALUEè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>transformSetOperationStmt</td>
        <td>å¤„ç†å¸¦æœ‰UNIONã€INTERSECTã€EXCEPTçš„SELECTè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>T_InsertStmt</td>
        <td>transformInsertStmt</td>
        <td>å¤„ç†INSERTè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>        
        <td rowspan="3">T_SelectStmt</td>        
        <td>transformSelectStmt</td>        
        <td>å¤„ç†åŸºæœ¬SELCETè¯­å¥çš„è¯­ä¹‰</td>    
    </tr>    
    <tr>        
        <td>transformValuesClause</td>        
        <td>å¤„ç†SELCET VALUEè¯­å¥çš„è¯­ä¹‰</td>    
    </tr>    
    <tr>        
        <td>transformSetOperationStmt</td>        
        <td>å¤„ç†å¸¦æœ‰UNIONã€INTERSECTã€EXCEPTçš„SELECTè¯­å¥çš„è¯­ä¹‰</td>    
    </tr>    
    <tr>        
        <td>T_InsertStmt</td>        
        <td>transformInsertStmt</td>        
        <td>å¤„ç†INSERTè¯­å¥çš„è¯­ä¹‰</td>    
    </tr>
    <tr>
        <td>T_DeleteStmt</td>
        <td>transformDeleteStmt</td>
        <td>å¤„ç†DELETEè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>T_UpdateStmt</td>
        <td>transformUpdateStmt</td>
        <td>å¤„ç†UPDATEè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>T_MergeStmt</td>
        <td>transformMergeStmt</td>
        <td>å¤„ç†MERGEè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>T_DeclareCursorStmt</td>
        <td>transformDeclareCursorStmt</td>
        <td>å¤„ç†DECLAREè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>T_ExplainStmt</td>
        <td>transformExplainStmt</td>
        <td>å¤„ç†EXPLAINè¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>T_CreateTableAsStmt</td>
        <td>transformCreateTableAsStmt</td>
        <td>å¤„ç†CREATE TABLE ASï¼ŒSELECT INTOå’ŒCREATE MATERIALIZED VIEWç­‰è¯­å¥çš„è¯­ä¹‰</td>
    </tr>
    <tr>
        <td>å…¶ä»–</td>
        <td>--</td>
        <td>ä½œä¸ºUTILITYç±»å‹å¤„ç†ï¼Œç›´æ¥åœ¨åˆ†ææ ‘ä¸Šå°è£…Queryè¿”å›</td>
    </tr>
</table></li>
<li><p>å¯¹äº<code>transformStmt</code>å‡½æ•°ï¼Œä»¥å¤„ç†åŸºæœ¬SELECTå‘½ä»¤çš„<code>transformSelectStmt</code>å‡½æ•°ä¸ºä¾‹ï¼Œå…¶å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„QueryèŠ‚ç‚¹ï¼Œè®¾ç½®<code>commandType</code>ä¸ºCMD_SELECT</li>
<li>æ£€æŸ¥<code>SelectStmt</code>æ˜¯å¦å­˜åœ¨WITHå­å¥ï¼Œå­˜åœ¨åˆ™è°ƒç”¨<code>transformWithClause</code>å¤„ç†</li>
<li>è°ƒç”¨<code>transformFromClause</code>å‡½æ•°å¤„ç†FROMå­å¥</li>
<li>è°ƒç”¨<code>transformTargetList</code>å‡½æ•°å¤„ç†ç›®æ ‡å±æ€§</li>
<li>è‹¥å­˜åœ¨æ“ä½œç¬¦â€œ+â€åˆ™è°ƒç”¨<code>transformOperatorPlus</code>è½¬ä¸ºå¤–è¿æ¥</li>
<li>è°ƒç”¨<code>transformWhereClause</code>å‡½æ•°å¤„ç†WHEREå­å¥å’ŒHAVINGå­å¥</li>
<li> è°ƒç”¨<code>transformSortClause</code>å‡½æ•°å¤„ç†ORDER BYå­å¥</li>
<li>è°ƒç”¨<code>transformGroupClause</code>å‡½æ•°å¤„ç†GROUP BYå­å¥</li>
<li>è°ƒç”¨<code>transformDistinctClause</code>å‡½æ•°æˆ–è€…<code>transformDistinctOnClause</code>å‡½æ•°å¤„ç†DISTINCTå­å¥</li>
<li>è°ƒç”¨<code>transformLimitClause</code>å‡½æ•°å¤„ç†LIMITå’ŒOFFSETå­å¥</li>
<li>è°ƒç”¨<code>transformWindowDefinitions</code>å‡½æ•°å¤„ç†WINDOWSå­å¥</li>
<li>è°ƒç”¨<code>resolveTargetListUnknowns</code>å‡½æ•°å°†å…¶ä»–æœªçŸ¥ç±»å‹ä½œä¸ºtextå¤„ç†</li>
<li>è°ƒç”¨<code>transformLockingClause</code>å‡½æ•°å¤„ç†FOR UPDATEå­å¥</li>
<li>å¤„ç†å…¶ä»–æƒ…å†µï¼Œå¦‚insertè¯­å¥ã€foreign tableç­‰</li>
<li>è¿”å›æŸ¥è¯¢æ ‘</li>
</ol>
</li>
<li><p>ä¸Šè¿°æµç¨‹ä¸­ï¼Œé€‰å–<strong>ç›®æ ‡å±æ€§</strong>ã€<strong>FROMå­å¥</strong>ã€<strong>WHEREå­å¥</strong>çš„è¯­ä¹‰åˆ†æè¿‡ç¨‹è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼ŒSELECTè¯­å¥çš„å…¶ä»–å­å¥çš„å¤„ç†æµç¨‹ç±»ä¼¼</p>
<ul>
<li><p>å¤„ç†<u>ç›®æ ‡å±æ€§</u>çš„å…¥å£å‡½æ•°æ˜¯<code>transformTargetList</code>ï¼Œå…¶è·¯å¾„ä¸ºï¼š<code>/src/common/backend/parser/parse_target.cpp</code></p>
<p>æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * transformTargetList()</span></span><br><span class="line"><span class="comment"> * å°†è¯­æ³•æ ‘ResTargetç»“æ„ä½“çš„é“¾è¡¨è½¬æ¢ä¸ºæŸ¥è¯¢æ ‘TargetEntryç»“æ„ä½“çš„é“¾è¡¨</span></span><br><span class="line"><span class="comment"> * è¿™é‡Œæˆ‘ä»¬ä¸å…³æ³¨æˆ‘ä»¬åšçš„æ˜¯SELECTå‘½ä»¤ï¼ŒINSERTå‘½ä»¤ï¼Œæˆ–æ˜¯UPDATEå‘½ä»¤</span></span><br><span class="line"><span class="comment"> * æˆ‘ä»¬åªè½¬æ¢ç»™å®šçš„è¡¨è¾¾å¼ï¼ˆå³valå­—æ®µï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å‡½æ•°çš„ä¼ å‚åŒ…æ‹¬ç»“æ„ä½“ParseStateå’Œç›®æ ‡å±æ€§é“¾è¡¨targetlist</span></span><br><span class="line"><span class="comment">transformTargetListä¼šè°ƒç”¨transformTargetEntryæ¥å¤„ç†è¯­æ³•æ ‘ä¸‹ç›®æ ‡å±æ€§çš„æ¯ä¸€ä¸ªListCellï¼Œæœ€ç»ˆå°†è¯­æ³•æ ‘ResTargetç»“æ„ä½“çš„é“¾è¡¨è½¬æ¢ä¸ºæŸ¥è¯¢æ ‘TargetEntryç»“æ„ä½“çš„é“¾è¡¨ï¼Œæ¯ä¸€ä¸ªTargetEntryè¡¨ç¤ºæŸ¥è¯¢æ ‘çš„ä¸€ä¸ªç›®æ ‡å±æ€§</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">List* <span class="title">transformTargetList</span><span class="params">(ParseState* pstate, List* targetlist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    List* p_target = NIL;</span><br><span class="line">    ListCell* o_target = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    foreach (o_target, targetlist) &#123;</span><br><span class="line">        ResTarget* res = (ResTarget*)<span class="built_in">lfirst</span>(o_target);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * æ£€æŸ¥ &quot;something.*&quot;çš„å½¢å¼</span></span><br><span class="line"><span class="comment">         * å–å†³äº&quot;something&quot;çš„å¤æ‚åº¦, â€œ*â€ å¯èƒ½å‡ºç°åœ¨ColumnRefçš„æœ€åä¸€ä¸ªå­—æ®µ,</span></span><br><span class="line"><span class="comment">         * æˆ–è€…æ˜¯A_Indirectionä¸­çš„æœ€åä¸€ä¸ªé—´æ¥é¡¹</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">IsA</span>(res-&gt;val, ColumnRef)) &#123;</span><br><span class="line">            ColumnRef* cref = (ColumnRef*)res-&gt;val;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">IsA</span>(<span class="built_in">llast</span>(cref-&gt;fields), A_Star)) &#123;</span><br><span class="line">                p_target = <span class="built_in">list_concat</span>(p_target, <span class="built_in">ExpandColumnRefStar</span>(pstate, cref, <span class="literal">true</span>));</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">IsA</span>(res-&gt;val, A_Indirection)) &#123;</span><br><span class="line">            A_Indirection* ind = (A_Indirection*)res-&gt;val;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">IsA</span>(<span class="built_in">llast</span>(ind-&gt;indirection), A_Star)) &#123;</span><br><span class="line">                p_target = <span class="built_in">list_concat</span>(p_target, <span class="built_in">ExpandIndirectionStar</span>(pstate, ind, <span class="literal">true</span>));</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * ä¸æ˜¯&quot;something.*&quot;çš„ç»“æ„, æ•…è½¬æ¢ä¸ºä¸€ä¸ªå•ç‹¬çš„è¡¨è¾¾å¼</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        p_target = <span class="built_in">lappend</span>(p_target, <span class="built_in">transformTargetEntry</span>(pstate, res-&gt;val, <span class="literal">NULL</span>, res-&gt;name, <span class="literal">false</span>));</span><br><span class="line">        pstate-&gt;p_target_list = p_target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p_target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°<code>TargetEntry</code>ç»“æ„å¦‚ä¸‹ã€‚å…¶ä¸­<code>resno</code>ä¿å­˜ç›®æ ‡å±æ€§çš„ç¼–å·ï¼ˆä»1å¼€å§‹è®¡æ•°ï¼‰ï¼Œ<code>resname</code>ä¿å­˜å±æ€§åï¼Œ<code>resorigtbl</code>å’Œ<code>resorigcol</code>åˆ†åˆ«ä¿å­˜ç›®æ ‡å±æ€§æºè¡¨çš„OIDå’Œç¼–å·</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TargetEntry</span> &#123;</span></span><br><span class="line">    Expr xpr;</span><br><span class="line">    Expr* expr;            <span class="comment">// éœ€è¦è®¡ç®—çš„è¡¨è¾¾å¼</span></span><br><span class="line">    AttrNumber resno;      <span class="comment">// å±æ€§ç¼–å·</span></span><br><span class="line">    <span class="keyword">char</span>* resname;         <span class="comment">// å±æ€§å</span></span><br><span class="line">    Index ressortgroupref; <span class="comment">// è¢«ORDER BYå’ŒGROUP BYå­å¥å¼•ç”¨æ—¶ä¸ºæ­£å€¼</span></span><br><span class="line">    Oid resorigtbl;        <span class="comment">// å±æ€§æ‰€å±æºè¡¨çš„OID</span></span><br><span class="line">    AttrNumber resorigcol; <span class="comment">// å±æ€§åœ¨æºè¡¨ä¸­çš„ç¼–å·</span></span><br><span class="line">    <span class="keyword">bool</span> resjunk;          <span class="comment">// å¦‚æœä¸ºtrueï¼Œåˆ™åœ¨è¾“å‡ºç»“æœæ—¶å»é™¤</span></span><br><span class="line">&#125; TargetEntry;</span><br></pre></td></tr></table></figure></li>
<li><p>å¤„ç†<u>FROMå­å¥</u>çš„å…¥å£å‡½æ•°æ˜¯<code>transformFromClause</code>ï¼Œå…¶è·¯å¾„ä¸ºï¼š<code>/src/common/backend/parser/parse_clause.cpp</code></p>
<p>æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">transformFromClause</span><span class="params">(ParseState* pstate, List* frmList, <span class="keyword">bool</span> isFirstNode, <span class="keyword">bool</span> isCreateView)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ListCell* fl = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * FROMå­å¥ç”±transformFromClauseå‡½æ•°è¿›è¡Œå¤„ç†ï¼Œæœ€åç”ŸæˆèŒƒå›´è¡¨ã€‚è¯¥å‡½æ•°çš„ä¸»è¦ä¼ å‚é™¤äº†ç»“æ„ä½“ParseStateï¼Œè¿˜åŒ…æ‹¬åˆ†ææ ‘</span></span><br><span class="line"><span class="comment">     * SelectStmtçš„fromClauseå­—æ®µã€‚fromClauseæ˜¯Listç»“æ„ï¼Œç”±FROMå­å¥ä¸­çš„è¡¨ã€è§†å›¾ã€å­æŸ¥è¯¢ã€å‡½æ•°ã€è¿æ¥è¡¨è¾¾å¼ç­‰æ„æˆï¼Œç”±	</span></span><br><span class="line"><span class="comment">     * transformFromClauseItemå‡½æ•°è¿›è¡Œæ£€æŸ¥å’Œå¤„ç†ã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    foreach (fl, frmList) &#123;</span><br><span class="line">        Node* n = (Node*)<span class="built_in">lfirst</span>(fl);</span><br><span class="line">        RangeTblEntry* rte = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">int</span> rtindex;</span><br><span class="line">        List* relnamespace = NIL;</span><br><span class="line"></span><br><span class="line">        n = <span class="built_in">transformFromClauseItem</span>(</span><br><span class="line">            pstate, n, &amp;rte, &amp;rtindex, <span class="literal">NULL</span>, <span class="literal">NULL</span>, &amp;relnamespace, isFirstNode, isCreateView);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* å°†é‚£äº›æ–°çš„ relnamespace itemsæ ‡è®°ä¸º å¯¹ LATERAL å¯è§ */</span></span><br><span class="line">        <span class="built_in">setNamespaceLateralState</span>(relnamespace, <span class="literal">true</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">checkNameSpaceConflicts</span>(pstate, pstate-&gt;p_relnamespace, relnamespace);</span><br><span class="line">        pstate-&gt;p_joinlist = <span class="built_in">lappend</span>(pstate-&gt;p_joinlist, n);</span><br><span class="line">        pstate-&gt;p_relnamespace = <span class="built_in">list_concat</span>(pstate-&gt;p_relnamespace, relnamespace);</span><br><span class="line">        pstate-&gt;p_varnamespace = <span class="built_in">lappend</span>(pstate-&gt;p_varnamespace, <span class="built_in">makeNamespaceItem</span>(rte, <span class="literal">true</span>, <span class="literal">true</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">	æˆ‘ä»¬å·²å®Œæˆå¯¹ FROM åˆ—è¡¨çš„è§£æï¼Œå› æ­¤ä½¿æ‰€æœ‰å‘½åç©ºé—´é¡¹æ— æ¡ä»¶å¯è§</span></span><br><span class="line"><span class="comment">	è¯·æ³¨æ„ï¼Œè¿™è¿˜ä¼šå°† è¢«è°ƒç”¨æ—¶å·²ç»å­˜åœ¨çš„ä»»ä½•å‘½åç©ºé—´é¡¹é‡ç½®lateral_only</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">setNamespaceLateralState</span>(pstate-&gt;p_relnamespace, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">    <span class="built_in">setNamespaceLateralState</span>(pstate-&gt;p_varnamespace, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¤„ç†<u>WHEREå­å¥</u>çš„å…¥å£å‡½æ•°æ˜¯<code>transformWhereClause</code>ï¼Œï¼Œå…¶è·¯å¾„ä¸ºï¼š<code>/src/common/backend/parser/parse_clause.cpp</code></p>
<p>æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯¥å‡½æ•°è°ƒç”¨transformExprå°†åˆ†ææ ‘SelectStmtä¸‹whereClauseå­—æ®µè¡¨ç¤ºçš„WHEREå­å¥è½¬æ¢ä¸ºä¸€é¢—è¡¨è¾¾å¼æ ‘</span></span><br><span class="line"><span class="comment">//ç„¶åå°†ParseStateçš„p_joinlistæ‰€æŒ‡å‘çš„é“¾è¡¨å’Œä»WHEREå­å¥å¾—åˆ°çš„è¡¨è¾¾å¼æ ‘åŒ…è£…æˆFromExprç»“æ„ï¼Œå­˜å…¥æŸ¥è¯¢æ ‘çš„jointreeã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function">Node* <span class="title">transformWhereClause</span><span class="params">(ParseState* pstate, Node* clause, <span class="keyword">const</span> <span class="keyword">char</span>* constructName)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node* qual = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (clause == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    qual = <span class="built_in">transformExpr</span>(pstate, clause);</span><br><span class="line"></span><br><span class="line">    qual = <span class="built_in">coerce_to_boolean</span>(pstate, qual, constructName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> qual;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥è¯¢æ ‘Queryç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Query</span> &#123;</span></span><br><span class="line">    NodeTag type;</span><br><span class="line"></span><br><span class="line">    CmdType commandType; <span class="comment">// å‘½ä»¤ç±»å‹</span></span><br><span class="line">    QuerySource querySource; <span class="comment">// æŸ¥è¯¢æ¥æº</span></span><br><span class="line">    uint64 queryId; <span class="comment">// æŸ¥è¯¢æ ‘çš„æ ‡è¯†ç¬¦</span></span><br><span class="line">    <span class="keyword">bool</span> canSetTag; <span class="comment">// å¦‚æœæ˜¯åŸå§‹æŸ¥è¯¢ï¼Œåˆ™ä¸ºfalseï¼›å¦‚æœæ˜¯æŸ¥è¯¢é‡å†™æˆ–è€…æŸ¥è¯¢è§„åˆ’æ–°å¢ï¼Œåˆ™ä¸ºtrue</span></span><br><span class="line">    Node* utilityStmt; <span class="comment">// å®šä¹‰æ¸¸æ ‡æˆ–è€…ä¸å¯ä¼˜åŒ–çš„æŸ¥è¯¢è¯­å¥</span></span><br><span class="line">    <span class="keyword">int</span> resultRelation; <span class="comment">// ç»“æœå…³ç³»</span></span><br><span class="line">    <span class="keyword">bool</span> hasAggs;         <span class="comment">// ç›®æ ‡å±æ€§æˆ–HAVINGå­å¥ä¸­æ˜¯å¦æœ‰èšé›†å‡½æ•°</span></span><br><span class="line">    <span class="keyword">bool</span> hasWindowFuncs;  <span class="comment">// ç›®æ ‡å±æ€§ä¸­æ˜¯å¦æœ‰çª—å£å‡½æ•°</span></span><br><span class="line">    <span class="keyword">bool</span> hasSubLinks;     <span class="comment">// æ˜¯å¦æœ‰å­æŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">bool</span> hasDistinctOn;   <span class="comment">// æ˜¯å¦æœ‰DISTINCTå­å¥</span></span><br><span class="line">    <span class="keyword">bool</span> hasRecursive;    <span class="comment">// å…¬å…±è¡¨è¾¾å¼æ˜¯å¦å…è®¸é€’å½’</span></span><br><span class="line">    <span class="keyword">bool</span> hasModifyingCTE; <span class="comment">// WITHå­å¥æ˜¯å¦åŒ…å«INSERT/UPDATE/DELETE</span></span><br><span class="line">    <span class="keyword">bool</span> hasForUpdate;    <span class="comment">// æ˜¯å¦æœ‰FOR UPDATEæˆ–FOR SHAREå­å¥</span></span><br><span class="line">    <span class="keyword">bool</span> hasRowSecurity;  <span class="comment">// é‡å†™æ˜¯å¦åº”ç”¨è¡Œçº§è®¿é—®æ§åˆ¶</span></span><br><span class="line">    <span class="keyword">bool</span> hasSynonyms;     <span class="comment">// èŒƒå›´è¡¨æ˜¯å¦æœ‰åŒä¹‰è¯</span></span><br><span class="line">    List* cteList;    <span class="comment">// WITHå­å¥ï¼Œç”¨äºå…¬å…±è¡¨è¾¾å¼</span></span><br><span class="line">    List* rtable;       <span class="comment">// èŒƒå›´è¡¨</span></span><br><span class="line">    FromExpr* jointree; <span class="comment">// è¿æ¥æ ‘ï¼Œæè¿°FROMå’ŒWHEREå­å¥å‡ºç°çš„è¿æ¥</span></span><br><span class="line">    List* targetList; <span class="comment">// ç›®æ ‡å±æ€§</span></span><br><span class="line">    List* starStart; <span class="comment">// å¯¹åº”äºParseStateç»“æ„ä½“çš„p_star_start</span></span><br><span class="line">    List* starEnd; <span class="comment">// å¯¹åº”äºParseStateç»“æ„ä½“çš„p_star_end</span></span><br><span class="line">    List* starOnly; <span class="comment">// å¯¹åº”äºParseStateç»“æ„ä½“çš„p_star_only</span></span><br><span class="line">    List* returningList; <span class="comment">// RETURNINGå­å¥</span></span><br><span class="line">    List* groupClause; <span class="comment">// GROUPå­å¥</span></span><br><span class="line">    List* groupingSets; <span class="comment">// åˆ†ç»„é›†</span></span><br><span class="line">    Node* havingQual; <span class="comment">// HAVINGå­å¥</span></span><br><span class="line">    List* windowClause; <span class="comment">// WINDOWå­å¥</span></span><br><span class="line">    List* distinctClause; <span class="comment">// DISTINCTå­å¥</span></span><br><span class="line">    List* sortClause; <span class="comment">// ORDERå­å¥</span></span><br><span class="line">    Node* limitOffset; <span class="comment">// OFFSETå­å¥</span></span><br><span class="line">    Node* limitCount;  <span class="comment">// LIMITå­å¥</span></span><br><span class="line">    List* rowMarks; <span class="comment">// è¡Œæ ‡è®°é“¾è¡¨</span></span><br><span class="line">    Node* setOperations; <span class="comment">// é›†åˆæ“ä½œ</span></span><br><span class="line">    List *constraintDeps;</span><br><span class="line">    HintState* hintState;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">&#125; Query;</span><br></pre></td></tr></table></figure>

<p><code>transformStmt</code>å‡½æ•°å®Œæˆè¯­ä¹‰åˆ†æåä¼šè¿”å›æŸ¥è¯¢æ ‘</p>
<p><u>ä¸€æ¡SQLè¯­å¥çš„æ¯ä¸ªå­å¥çš„è¯­ä¹‰åˆ†æç»“æœä¼šä¿å­˜åœ¨Queryçš„å¯¹åº”å­—æ®µä¸­ï¼Œæ¯”å¦‚<code>targetList</code>å­˜å‚¨ç›®æ ‡å±æ€§è¯­ä¹‰åˆ†æç»“æœï¼Œ<code>rtable</code>å­˜å‚¨FROMå­å¥ç”Ÿæˆçš„èŒƒå›´è¡¨ï¼Œ<code>jointree</code>çš„<code>quals</code>å­—æ®µå­˜å‚¨WHEREå­å¥è¯­ä¹‰åˆ†æçš„è¡¨è¾¾å¼æ ‘ã€‚</u></p>
</li>
</ul>
<p>è¿™æ ·ï¼Œä¸€æ¡SQLè¯­å¥çš„æ‰€æœ‰è¯­ä¹‰åˆ†æç»“æœå°±å…¨éƒ¨å‚¨å­˜åœ¨æŸ¥è¯¢æ ‘Queryç»“æ„ä½“çš„ä¸åŒå­—æ®µä¸­ï¼Œè¯­ä¹‰åˆ†æç»“æŸã€‚</p>
<p>Queryç»“æ„ä½“çš„<strong>æŸ¥è¯¢æ ‘å†…å­˜ç»„ç»‡ç»“æ„å›¾</strong>å¦‚ä¸‹ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/5cf3627c58254259b2159f3b2bf2351f.png" alt="æŸ¥è¯¢æ ‘å†…å­˜ç»„ç»‡ç»“æ„å›¾" loading="lazy"></p>
</li>
<li><p>å®Œæˆè¯­ä¹‰åˆ†æåï¼ŒSQLè§£æè¿‡ç¨‹å®Œæˆï¼ŒSQLå¼•æ“å¼€å§‹æ‰§è¡ŒæŸ¥è¯¢ä¼˜åŒ–ã€‚</p>
</li>
</ul>
<h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼ŒopenGaussçš„parseræŸ¥è¯¢è§£æéƒ¨åˆ†å°±å‘Šä¸€æ®µè½äº†ï¼Œç»è¿‡è¯æ³•åˆ†æ-è¯­æ³•åˆ†æ-è¯­ä¹‰åˆ†æï¼ŒSQLè¯­å¥å·²ç»èƒ½å¤Ÿæ­£ç¡®çš„è¢«è¯†åˆ«åˆ†æã€‚ä¹‹åSQlå¼•æ“ä¼šå¯¹è¯­å¥è¿›è¡Œä¼˜åŒ–ä»¥ä¾¿ç”Ÿæˆæœ€ä¼˜çš„æ‰§è¡Œè®¡åˆ’ç»™æ‰§è¡Œå™¨æ‰§è¡Œã€‚</p>
<p>åç»­å°†å¯¹SQLå¼•æ“åšè¿›ä¸€æ­¥çš„è§£è¯»ã€‚</p>
<p>æœ¬æ–‡çš„PDFé™„åœ¨é™„ä»¶ä¸­ä¾›è¯»è€…äº¤æµã€‚</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>wan_nan</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://wan-nan.github.io/2021/10/10/SQL%E5%BC%95%E6%93%8E_%E6%9F%A5%E8%AF%A2%E8%A7%A3%E6%9E%90_parser%EF%BC%88%E5%9B%9B%EF%BC%89%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" title="SQLå¼•æ“_æŸ¥è¯¢è§£æ_parserï¼ˆå››ï¼‰è¯­ä¹‰åˆ†æ">https://wan-nan.github.io/2021/10/10/SQL%E5%BC%95%E6%93%8E_%E6%9F%A5%E8%AF%A2%E8%A7%A3%E6%9E%90_parser%EF%BC%88%E5%9B%9B%EF%BC%89%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/10/14/SQL%E5%BC%95%E6%93%8E-%E6%9F%A5%E8%AF%A2%E5%88%86%E6%B5%81tcop/" rel="prev" title="SQLå¼•æ“-æŸ¥è¯¢åˆ†æµtcop"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">SQLå¼•æ“-æŸ¥è¯¢åˆ†æµtcop</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/10/07/SQL%E5%BC%95%E6%93%8E_%E6%9F%A5%E8%AF%A2%E8%A7%A3%E6%9E%90_parser%EF%BC%88%E4%B8%89%EF%BC%89%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" rel="next" title="SQLå¼•æ“_æŸ¥è¯¢è§£æ_parserï¼ˆä¸‰ï¼‰è¯­æ³•åˆ†æ"><span class="post-nav-text">SQLå¼•æ“_æŸ¥è¯¢è§£æ_parserï¼ˆä¸‰ï¼‰è¯­æ³•åˆ†æ</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 â€“ 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> wan_nan</span></div><div class="live_time"><span>æœ¬åšå®¢å·²æ‚„æ‚„è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-03T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="308168565" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>