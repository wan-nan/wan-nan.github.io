<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="wan_nan"><meta name="copyright" content="wan_nan"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>æ–‡çŒ®é˜…è¯» | é£ç‰©</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link rel="icon" href="/dino.png"><link rel="mask-icon" href="/dino.png" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"wan-nan.github.io","root":"/","title":"é£ç‰©çš„å°ç«™","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script>//- only for pjax
function sendPageView() {
  if (CONFIG.hostname !== location.hostname) return;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('event', 'page_view', {
    page_path: encodeURIComponent(location.pathname),
  })
}
document.addEventListener("pjax:success", sendPageView);</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="Glossary   abbr. full name note    RDMA Remote Direct Memory Access    RoCE RDMA over Converged Ethernet    PFC Priority-based Flow Control    HOL blocking Head-of-Line blocking é˜Ÿå¤´é˜»å¡   HPC High Perfor">
<meta property="og:type" content="article">
<meta property="og:title" content="æ–‡çŒ®é˜…è¯»">
<meta property="og:url" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/index.html">
<meta property="og:site_name" content="é£ç‰©">
<meta property="og:description" content="Glossary   abbr. full name note    RDMA Remote Direct Memory Access    RoCE RDMA over Converged Ethernet    PFC Priority-based Flow Control    HOL blocking Head-of-Line blocking é˜Ÿå¤´é˜»å¡   HPC High Perfor">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708193752784.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708200431834.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708200534078.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708200214455.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/j8GaGaQE_dfdSPhc34X27TzDxE3j65Ca">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230725172322605.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/WA8@COU2%7BLX%60RUC27Y%601UV8.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230725165753511.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230725180254555.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230802222336780.png">
<meta property="og:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230811171105109.png">
<meta property="article:published_time" content="2023-07-08T11:10:10.000Z">
<meta property="article:modified_time" content="2023-08-19T08:06:16.728Z">
<meta property="article:author" content="wan_nan">
<meta property="article:tag" content="å­¦ä¹ ">
<meta property="article:tag" content="è®¡ç®—æœºç½‘ç»œ">
<meta property="article:tag" content="research">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708193752784.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="wan_nan"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="wan_nan"><span class="site-author-status" title="sleeping">ğŸ˜´</span></a><div class="site-author-name"><a href="/about/">wan_nan</a></div><span class="site-name">é£ç‰©</span><sub class="site-subtitle">Yeah!</sub><div class="site-desciption">ä¸ªäººåšå®¢</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">55</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">40</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2213324970&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/wan-nan" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Glossary"><span class="toc-number">1.</span> <span class="toc-text">Glossary</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CC"><span class="toc-number">2.</span> <span class="toc-text">CC</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DCTCP-Data-center-tcp"><span class="toc-number">2.1.</span> <span class="toc-text">(DCTCP)Data center tcp</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#motivation"><span class="toc-number">2.1.1.</span> <span class="toc-text">motivation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Algorithm"><span class="toc-number">2.1.2.</span> <span class="toc-text">Algorithm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Analysis"><span class="toc-number">2.1.3.</span> <span class="toc-text">Analysis</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DCQCN-Congestion-Control-for-Large-Scale-RDMA-Deployments"><span class="toc-number">2.2.</span> <span class="toc-text">(DCQCN) Congestion Control for Large-Scale RDMA Deployments</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#why-RDMA-need-drop-free-network"><span class="toc-number">2.2.1.</span> <span class="toc-text">why RDMA need drop-free network?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#limitations-of-PFC"><span class="toc-number">2.2.2.</span> <span class="toc-text">limitations of PFC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Algorithm-1"><span class="toc-number">2.2.3.</span> <span class="toc-text">Algorithm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#note"><span class="toc-number">2.2.4.</span> <span class="toc-text">note</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TIMELY-RTT-based-Congestion-Control-for-the-Datacenter"><span class="toc-number">2.3.</span> <span class="toc-text">TIMELY: RTT-based Congestion Control for the Datacenter</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Abstract"><span class="toc-number">2.3.1.</span> <span class="toc-text">Abstract</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Background"><span class="toc-number">2.3.2.</span> <span class="toc-text">Background</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TIMELY-FRAMEWORK"><span class="toc-number">2.3.3.</span> <span class="toc-text">TIMELY FRAMEWORK</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RTT-Measurement-Engine"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">RTT Measurement Engine</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Rate-Computation-Engine"><span class="toc-number">2.3.3.2.</span> <span class="toc-text">Rate Computation Engine</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Rate-Control-Engine"><span class="toc-number">2.3.3.3.</span> <span class="toc-text">Rate Control Engine</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TIMELY-CONGESTION-CONTROL"><span class="toc-number">2.3.4.</span> <span class="toc-text">TIMELY CONGESTION CONTROL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Metrics-and-Setting"><span class="toc-number">2.3.4.1.</span> <span class="toc-text">Metrics and Setting</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Delay-Gradient-Approach"><span class="toc-number">2.3.4.2.</span> <span class="toc-text">Delay Gradient Approach</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#The-Main-Algorithm"><span class="toc-number">2.3.4.3.</span> <span class="toc-text">The Main Algorithm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Gradient-versus-Queue-Size"><span class="toc-number">2.3.4.4.</span> <span class="toc-text">Gradient versus Queue Size</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IMPLEMENTATION"><span class="toc-number">2.3.5.</span> <span class="toc-text">IMPLEMENTATION</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Swift-Delay-is-Simple-and-Effective-for-Congestion-Control-in-the-Datacenter"><span class="toc-number">2.4.</span> <span class="toc-text">Swift: Delay is Simple and Effective for Congestion Control in the Datacenter</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="wan_nan"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="é£ç‰©"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">æ–‡çŒ®é˜…è¯»</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-08 19:10:10" itemprop="dateCreated datePublished" datetime="2023-07-08T19:10:10+08:00">2023-07-08</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 16:06:16" itemprop="dateModified" datetime="2023-08-19T16:06:16+08:00">2023-08-19</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">4.4k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">21m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E5%AD%A6%E4%B9%A0/" style="--text-color:saddlebrown"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">å­¦ä¹ </span></a><a class="tag-item" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">è®¡ç®—æœºç½‘ç»œ</span></a><a class="tag-item" href="/tags/research/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">research</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="Glossary"><a href="#Glossary" class="headerlink" title="Glossary"></a>Glossary</h1><table>
<thead>
<tr>
<th align="center"><em>abbr.</em></th>
<th align="center"><em>full name</em></th>
<th align="center"><em>note</em></th>
</tr>
</thead>
<tbody><tr>
<td align="center">RDMA</td>
<td align="center">Remote Direct Memory Access</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">RoCE</td>
<td align="center">RDMA over Converged Ethernet</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">PFC</td>
<td align="center">Priority-based Flow Control</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">HOL blocking</td>
<td align="center">Head-of-Line blocking</td>
<td align="center"><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/330300133">é˜Ÿå¤´é˜»å¡</a></td>
</tr>
<tr>
<td align="center">HPC</td>
<td align="center">High Performance Computing</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ToR</td>
<td align="center">Top of Rack</td>
<td align="center">æ¶é¡¶å¼(<em>ToR</em>)æ˜¯ä¸€ç§å¸¸è§çš„äº¤æ¢æœºåˆ°æœåŠ¡å™¨è¿æ¥æ¶æ„</td>
</tr>
<tr>
<td align="center">NVM</td>
<td align="center">Non-Volatile Memory</td>
<td align="center">éæ˜“å¤±æ€§å­˜å‚¨<br>NVMå’ŒRDMAå¯ä»¥ç§°å¾—ä¸ŠåŠ é€Ÿæ•°æ®ä¸­å¿ƒåº”ç”¨çš„ä¸¤æ¶é©¬è½¦<br>åˆ†åˆ«ä»å­˜å‚¨å’Œç½‘ç»œæ–¹é¢æ»¡è¶³é«˜å¸¦å®½ã€ä½å»¶è¿Ÿçš„éœ€æ±‚</td>
</tr>
<tr>
<td align="center">ECMP</td>
<td align="center">Equal-Cost Multi-Path routing</td>
<td align="center">ç­‰ä»·å¤šè·¯å¾„è·¯ç”±<br><a target="_blank" rel="noopener" href="https://www.sdnlab.com/20605.html">æ•°æ®ä¸­å¿ƒå†…è´Ÿè½½å‡è¡¡-ECMPçš„ä½¿ç”¨åˆ†æ</a></td>
</tr>
<tr>
<td align="center">FCoE</td>
<td align="center">Fibre Channel over Ethernet</td>
<td align="center"><a target="_blank" rel="noopener" href="https://www.cnblogs.com/pipci/p/15352967.html">å­˜å‚¨ç½‘ç»œ â€“ äº†è§£FCoEçš„å…«ä¸ªæŠ€æœ¯ç»†èŠ‚</a></td>
</tr>
<tr>
<td align="center">RED</td>
<td align="center">Random Early Detection</td>
<td align="center">æ—¨åœ¨å°†é˜Ÿåˆ—çš„<strong>å¹³å‡é•¿åº¦</strong>ä¿æŒåœ¨è¾ƒä½çš„å€¼ï¼ŒåŒæ—¶å…è®¸ä¸€å®šé‡çš„çªå‘æŠ¥æ–‡</td>
</tr>
<tr>
<td align="center">IOPS</td>
<td align="center">Input/Output Per Second</td>
<td align="center">è¡¡é‡å­˜å‚¨ä»‹è´¨æ€§èƒ½çš„ä¸»è¦æŒ‡æ ‡ä¹‹ä¸€<br>IOPSæ˜¯æŒ‡æ¯ç§’é’Ÿç³»ç»Ÿèƒ½å¤„ç†çš„è¯»å†™è¯·æ±‚æ•°é‡</td>
</tr>
<tr>
<td align="center">MMU</td>
<td align="center">memory management unit</td>
<td align="center"><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/542960003">äº¤æ¢æœºbuffer</a></td>
</tr>
<tr>
<td align="center">MTU</td>
<td align="center">Maximum Transmission Unit</td>
<td align="center"><a target="_blank" rel="noopener" href="https://info.support.huawei.com/info-finder/encyclopedia/zh/MTU.html">ä»€ä¹ˆæ˜¯MTUï¼ˆMaximum Transmission Unitï¼‰ï¼Ÿ</a></td>
</tr>
<tr>
<td align="center">INT</td>
<td align="center">in-network telemetry</td>
<td align="center">HPCCç”¨çš„</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h1 id="CC"><a href="#CC" class="headerlink" title="CC"></a>CC</h1><p>DCTCPæ˜¯window-based CC</p>
<p>DCQCNå’ŒTIMELYéƒ½æ˜¯rate-based CC</p>
<h2 id="DCTCP-Data-center-tcp"><a href="#DCTCP-Data-center-tcp" class="headerlink" title="(DCTCP)Data center tcp"></a>(DCTCP)Data center tcp</h2><blockquote>
<p>è¯¥è¯»$$\S3.4\ Guidelines\ for\ choosing\ parameters$$äº†ï¼ŒåŸºæœ¬äº†è§£äº†æ•°æ®ä¸­å¿ƒçš„é€šä¿¡ç»“æ„ã€è´Ÿè½½ç»„æˆã€ä¼ ç»ŸTCPåœ¨æ•°æ®ä¸­å¿ƒçš„ä¸è¶³åŠå…¶æˆå› ï¼›DCTCPç®—æ³•æµç¨‹ã€æ•ˆæœã€æ•°å­¦æ¨å¯¼ã€‚</p>
<p>åé¢åŸºæœ¬æ˜¯å‚æ•°è®¾ç½®å’Œå®éªŒç¯èŠ‚</p>
</blockquote>
<h3 id="motivation"><a href="#motivation" class="headerlink" title="motivation"></a>motivation</h3><p>â€œ(the soft real-time application) generate a diverse mix of short and long ï¬‚ows, and require three things from the data center network: slow latency for short ï¬‚ows, high burst tolerance, and high utilization for long ï¬‚ows.â€</p>
<p>â€œto meet the requirements of such a diverse mix of short and long flows, switch buffer occupancies need to be persistently low, while maintaining high throughput for the long flows.â€</p>
<p>â€œDCTCP is designed to do exactly this.â€</p>
<h3 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h3><p>ç®—æ³•åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<ol>
<li><p><strong>Simple Marking at the Switch:</strong> </p>
<p><strong>äº¤æ¢æœº</strong>æŒ‰ç…§é˜ˆå€¼kæ¥æ ‡è®°æ•°æ®åŒ…ï¼Œäº¤æ¢æœºçš„é˜Ÿåˆ—é•¿åº¦å¤§äºkæ—¶ï¼Œäº¤æ¢æœºä¼šåœ¨æ•°æ®åŒ…çš„åœ¨IPæŠ¥å¤´ä¸­æ‰“ä¸ŠCE(Congestion Experienced)æ ‡è®°</p>
<p>ä¸REDç®—æ³•ä¸åŒçš„æ˜¯ï¼ŒDCTCPçš„æ ‡è®°based on instantaneous, instead of average queue length.</p>
</li>
<li><p><strong>ECN-Echo at the Receiver:</strong></p>
<blockquote>
<p>The only difference between a DCTCP receiver and a TCP receiver is </p>
<p>the way information in the CE codepoints is conveyed back to the sender.</p>
</blockquote>
<p><strong>æ¥æ”¶ç«¯</strong>å¦‚ä½•ç¡®å®šæ˜¯å¦å›å¤ECN-Echo(ECE)ï¼Ÿè€ƒè™‘åˆ°Delayed ACKsï¼ŒReceiverçš„è¡Œä¸ºéµå¾ªä¸‹é¢çš„FSMï¼š</p>
<p>å¦‚æœå½“å‰æ•°æ®åŒ…ä¸­çš„CEæ ‡å¿—ä¸å‰ä¸€ä¸ªä¸åŒï¼Œåˆ™æ¥æ”¶æ–¹ç«‹å³å‘é€ACKã€‚ å½“CEæ ‡å¿—ä¸å˜æ—¶ï¼Œå®ƒä¼šåƒæ­£å¸¸çš„Delayed ACKä¸€æ ·ã€‚</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708193752784.png" alt="image-20230708193752784" style="zoom:67%;" loading="lazy">

<p>The states correspond to whether <strong>the last received packet</strong> was marked with the CE codepoint or not.</p>
</li>
<li><p><strong>Controller at the Sender:</strong></p>
<p><strong>å‘é€ç«¯</strong>å¦‚ä½•å¯¹ECEåšå‡ºååº”ï¼Ÿ</p>
<p>å‘é€ç«¯è®¡ç®—ã€æ”¶åˆ°çš„æ•°æ®åŒ…ä¸­è¢«æ ‡è®°ECEçš„æ¯”ä¾‹ã€‘ï¼Œç§°ä¸ºÎ±ï¼Œå¯¹äºæ¯ä¸ªæ•°æ®çª—å£ï¼ˆå¤§çº¦ä¸€ä¸ªRTTï¼‰æ›´æ–°ä¸€æ¬¡ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š<br>$$<br>\alpha â† (1 âˆ’ g) \times \alpha + g \times F<br>$$<br> exponential moving averageâ€”â€”ç§»åŠ¨æŒ‡æ•°å¹³å‡å€¼</p>
<p>å…¶ä¸­$$F$$æ˜¯åœ¨æœ€è¿‘çš„ä¸€ä¸ªçª—å£ä¸­è¢«æ ‡è®°ECEçš„åŒ…çš„æ¯”ä¾‹ï¼Œ$$0&lt;g&lt;1$$æ˜¯åœ¨$$\alpha$$çš„ä¼°è®¡ä¸­ç»™æ–°æ ·æœ¬ä¸è¿‡å»æ ·æœ¬çš„æƒé‡ã€‚ </p>
<p>Î±ä¼°è®¡é˜Ÿåˆ—å¤§å°å¤§äºKçš„æ¦‚ç‡ã€‚æœ¬è´¨ä¸Šï¼ŒÎ±æ¥è¿‘0è¡¨ç¤ºä½æ‹¥å¡ï¼ŒÎ±æ¥è¿‘1è¡¨ç¤ºé«˜æ‹¥å¡æ°´å¹³ã€‚</p>
<blockquote>
<p>The only difference between a DCTCP sender and a TCP sender is </p>
<p>in how each reacts to receiving an ACK with the ECN-Echo flag set.</p>
</blockquote>
<p>DCTCPä¿ç•™äº†TCPä¸­çš„æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ä¸­çš„Additive increaseã€ä¸¢åŒ…åçš„Recoveryï¼Œä¸åŒä¹‹å¤„åœ¨äºå¯¹ECEçš„ååº”ï¼š<br>$$<br>cwnd â† cwnd \times (1 âˆ’ \alpha/2)<br>$$</p>
</li>
</ol>
<h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><ul>
<li><p>è®¡ç®—é˜Ÿåˆ—é•¿åº¦çš„å¼å­ï¼š<br>$$<br>Q(t) = NW(t) âˆ’C \times RTT<br>$$</p>
<blockquote>
<p>We consider N infinitely long-lived flows with identical round-trip times RTT, sharing a single bottleneck link of capacity C.</p>
<p>We further assume that the N flows are synchronized; i.e., their â€œsawtoothâ€ window dynamics are in-phase. Of course, this assumption is only realistic when N is small.</p>
<p>Cåº”è¯¥å°±æ˜¯BandWidthï¼ˆï¼Ÿï¼‰CÃ—RTTå°±æ˜¯BDP</p>
</blockquote>
</li>
<li><p>é”¯é½¿å½¢æ³¢åŠ¨çš„æŒ¯å¹…ï¼šæŒ¯å¹…è¶Šå°ï¼Œé˜Ÿåˆ—é•¿åº¦ä¿æŒçš„è¶Šç¨³å®šï¼ŒCCæ€§èƒ½è¶Šå¥½</p>
<p>The most important of these is the <strong>amplitude of oscillations</strong>, which quantifies how well DCTCP is able to maintain steady queues, due to its gentle proportionate reaction to congestion indications.</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708200431834.png" alt="image-20230708200431834" style="zoom:50%;" loading="lazy">

<p>ä¸Šå›¾ä¸­TCPå’ŒDCTCPçš„å·®å¼‚åœ¨äºä¸‹é¢çš„è®¡ç®—ï¼š</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708200534078.png" alt="image-20230708200534078" style="zoom:67%;" loading="lazy">

<p>TCPçš„amplitudeçš„æ•°é‡çº§æ˜¯$$O(C\times RTT)$$ï¼Œè€ŒDCTCPçš„amplitudeåªæœ‰ $$O(\sqrt{C\times RTT})$$</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230708200214455.png" alt="image-20230708200214455" style="zoom: 67%;" loading="lazy"></li>
</ul>
<h2 id="DCQCN-Congestion-Control-for-Large-Scale-RDMA-Deployments"><a href="#DCQCN-Congestion-Control-for-Large-Scale-RDMA-Deployments" class="headerlink" title="(DCQCN) Congestion Control for Large-Scale RDMA Deployments"></a>(DCQCN) Congestion Control for Large-Scale RDMA Deployments</h2><blockquote>
<p>è¯¥è¯»$$\S5.\ ANALYSIS\ OF\ DCQCN$$äº†ï¼ŒåŸºæœ¬äº†è§£äº†RDMAåœ¨ç½‘ç»œé¢†åŸŸçš„èƒŒæ™¯çŸ¥è¯†ï¼Œä»¥åŠDCQCNçš„ç®—æ³•è®¾è®¡</p>
<p>åé¢åŸºæœ¬æ˜¯æµä½“æ¨¡å‹ã€å‚æ•°è®¾ç½®å’Œå®éªŒç¯èŠ‚</p>
</blockquote>
<p>ï¼ˆæœ¬è®ºæ–‡å‚è€ƒè¿™ä¸ªç¿»è¯‘è¯»äº†ä¸å°‘ï¼‰è¿˜ä¸é”™çš„ç¿»è¯‘ï¼š<a target="_blank" rel="noopener" href="https://ngdcn.com/post/91.html">ã€SIGCOMM 2015ã€‘å‡ºé“å³æ˜¯å·…å³°ï¼DCQCNï¼šæ•°æ®ä¸­å¿ƒå¤§è§„æ¨¡éƒ¨ç½²RDMAçš„æ‹¥å¡æ§åˆ¶æ–¹æ¡ˆ</a></p>
<h3 id="why-RDMA-need-drop-free-network"><a href="#why-RDMA-need-drop-free-network" class="headerlink" title="why RDMA need drop-free network?"></a>why RDMA need drop-free network?</h3><p>ã€ä¸ºä»€ä¹ˆRDMAéœ€è¦æ— æŸç½‘ç»œæ”¯æŒï¼Ÿã€‘</p>
<p>åœ¨IPè·¯ç”±çš„æ•°æ®ä¸­å¿ƒç½‘ç»œä¸Šï¼ŒRDMAä½¿ç”¨RoCEv2åè®®è¿›è¡Œéƒ¨ç½²ï¼ŒRoCEv2ä¾èµ–PFCæ¥å®ç°æ— æŸç½‘ç»œï¼ˆdrop-free networkï¼‰ã€‚</p>
<blockquote>
<p><strong><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/257228128">RDMA åœ¨æ•°æ®ä¸­å¿ƒçš„å¯é ä¼ è¾“</a></strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bandaoyu/article/details/115346857">ã€RDMAã€‘æ— æŸç½‘ç»œå’ŒPFC</a></p>
<ul>
<li><p>æ¯”è¾ƒå°´å°¬çš„æ˜¯ï¼ŒRDMAå¯¹ä¸¢åŒ…ç‡çš„è¦æ±‚æé«˜ã€‚0.1%çš„ä¸¢åŒ…ç‡ï¼Œå°†å¯¼è‡´RDMAååç‡æ€¥å‰§ä¸‹é™ã€‚2%çš„ä¸¢åŒ…ç‡ï¼Œå°†ä½¿å¾—RDMAçš„ååç‡ä¸‹é™ä¸º0</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/j8GaGaQE_dfdSPhc34X27TzDxE3j65Ca" alt=" å›¾æºï¼šé²œæ£è¯¾å ‚" style="zoom:50%;" loading="lazy"></li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/longbowchi/p/14802046.html">å®¹æŸç½‘ç»œvsæ— æŸç½‘ç»œï¼Œè®¨è®ºRDMAç½‘ç»œçš„ä¸¤ç§æ€è·¯</a></p>
<p>è®¨è®ºäº†RDMAåœ¨å®¹æŸç½‘ç»œå’Œæ— æŸç½‘ç»œä¸¤ç§æ€è·¯çš„å‘å±•å†ç¨‹ï¼Œè¿˜ä¸¾äº†è¿‘æœŸçš„ä¾‹å­æ¥è¯´æ˜ï¼Œå¦‚</p>
<ul>
<li><p>åŸºäºå®¹æŸç½‘ç»œçš„SIGCOMM2018ï¼šRevisiting Network Support for RDMA ï¼š</p>
<p>SIGCOMM2018ä¼šè®®ä¸Šï¼Œæå‡ºäº†IRNï¼ˆImproved RoCE NICï¼‰ç®—æ³•ã€‚è¯¥è®¾è®¡ä»ç„¶ä¿ç•™<strong>â€œé€‰æ‹©æ€§é‡ä¼ â€</strong>ï¼ˆå…è®¸ä¸¢åŒ…é‡ä¼ ï¼Œæ‰€ä»¥æ˜¯å®¹æŸï¼‰ è¿™ä¸€è®¾è®¡æ€è·¯ï¼Œä½œè€…è®¤ä¸ºiWarpçš„æ€è·¯å¤§æ–¹å‘æ­£ç¡®ï¼Œä½†æ˜¯TCPåè®®å¯¹äºæ™ºèƒ½ç½‘å¡å¤ªè¿‡å¤æ‚ï¼Œéœ€è¦ç®€åŒ–ã€‚æˆªè‡³ä»Šå¹´ï¼ˆ2021å¹´ï¼‰ï¼Œè¯¥è®¾è®¡ä»å¤„äºå®éªŒå®¤é˜¶æ®µï¼Œæ²¡æœ‰ç»è¿‡ä»»ä½•ç”Ÿäº§ç¯å¢ƒçš„è€ƒéªŒã€‚</p>
</li>
<li><p>åŸºäºæ— æŸç½‘ç»œçš„SIGCOMM2019ï¼šHigh Precision Congestion Controlï¼ˆHPCCï¼‰</p>
</li>
</ul>
</li>
</ul>
</blockquote>
<p>æœ€å¼€å§‹RDMAæŠ€æœ¯æ˜¯åŸºäºInfiniBandçš„ï¼Œæ•°æ®åŒ…ä¸¢å¤±åœ¨æ­¤ç±»ç¾¤é›†ä¸­å¾ˆå°‘è§ï¼Œå› æ­¤RDMA Infinibandä¼ è¾“å±‚ï¼ˆåœ¨NICä¸Šå®ç°ï¼‰çš„é‡ä¼ æœºåˆ¶å¾ˆç®€é™‹ï¼Œå³ï¼šgo-back-Né‡ä¼ ï¼Œä½†æ˜¯ç°åœ¨RDMAçš„ä½¿ç”¨æ›´å¹¿æ³›ï¼Œåœ¨å…¶ä»–ç½‘ç»œä¸­ï¼ˆå¦‚åŸºäºä»¥å¤ªç½‘çš„RoCEç½‘ç»œï¼‰ï¼Œä¸¢åŒ…çš„æ¦‚ç‡å¤§äºInfinibandé›†ç¾¤ï¼Œä¸€æ—¦ä¸¢åŒ…ï¼Œä½¿ç”¨RDMAçš„go-back-Né‡ä¼ æœºåˆ¶æ•ˆç‡éå¸¸ä½ï¼Œä¼šå¤§å¤§é™ä½RDMAçš„ä¼ è¾“æ•ˆç‡ï¼Œæ‰€ä»¥è¦æƒ³å‘æŒ¥å‡ºRDMAçœŸæ­£çš„æ€§èƒ½ï¼ŒåŠ¿å¿…è¦ä¸ºRDMAæ­å»ºä¸€å¥—ä¸ä¸¢åŒ…çš„æ— æŸç½‘ç»œç¯å¢ƒ</p>
<p>æ—©æœŸçš„ç»éªŒè¡¨æ˜ï¼ŒRoCE NICåªæœ‰åœ¨ä¸ä¸¢åŒ…ç½‘ç»œä¸Šè¿è¡Œæ—¶æ‰èƒ½å–å¾—è‰¯å¥½çš„ç«¯åˆ°ç«¯æ€§èƒ½ï¼ˆå› ä¸ºRoCEä½¿ç”¨çš„æ˜¯go-back-Né‡ä¼ ï¼Œä¸¢åŒ…åæœå¾ˆä¸¥é‡ï¼‰ï¼Œå› æ­¤è¿è¥å•†è½¬å‘ä»¥å¤ªç½‘ä¼˜å…ˆçº§æµæ§ï¼ˆPFCï¼‰æœºåˆ¶</p>
<h3 id="limitations-of-PFC"><a href="#limitations-of-PFC" class="headerlink" title="limitations of PFC"></a>limitations of PFC</h3><p>ã€PFCçš„é™åˆ¶ã€‘</p>
<p>PFC(Priority-based Flow Control)æ˜¯ä¸€ç§ç²—ç²’åº¦çš„æœºåˆ¶ã€‚å…¶PAUSEæœºåˆ¶è¿›è¡Œæµæ§çš„ç²’åº¦æ˜¯<strong>ç«¯å£ï¼ˆæˆ–ç«¯å£åŠ ä¼˜å…ˆçº§ï¼‰</strong>çš„çº§åˆ«ï¼Œè€Œæ²¡æœ‰ç»†åŒ–åˆ°flowçš„çº§åˆ«ã€‚å› æ­¤PFCä¼šå¯¼è‡´<strong>head-of-line blocking (victim flow</strong>), <strong>unfairness</strong>å’Œ<strong>congestion-spreading</strong>ç­‰é—®é¢˜ã€‚</p>
<blockquote>
<p>æˆ‘çš„ç†è§£æ˜¯ï¼šPFCçš„PAUSEæœºåˆ¶ä¼šbanæ‰ä¸€æ•´æ¡ingressï¼ˆæˆ–è¯¥ingressä¸­çš„æŸä¸ªä¼˜å…ˆçº§ï¼‰ä¸Šçš„æ‰€æœ‰flow</p>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯åŸºäºflowçš„å‘¢ï¼Ÿflowå¯ä»¥ç†è§£æˆipäº”å…ƒç»„ï¼š&lt;åè®®ç±»å‹ã€æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€æºç«¯å£å·ã€ç›®çš„ç«¯å£å·&gt;ï¼Œå¯¹äºTCPæ¥è®²å°±æ˜¯ä¸€æ¡TCPé“¾æ¥ã€‚ä½†æ˜¯ä¸€æ¡è¿æ¥ä¸­ä¹Ÿå¯ä»¥æœ‰å¤šæ¡flow</p>
<p>æ‰€ä»¥DCQCNã€DCTCPä¹ƒè‡³TCPè¿™ç§ç«¯åˆ°ç«¯çš„CCéƒ½å¯ä»¥ç†è§£æˆåŸºäºflowçš„<strong>ï¼ˆï¼Ÿï¼‰</strong></p>
</blockquote>
<blockquote>
<ul>
<li>ingresså’Œegressï¼š<ul>
<li><strong>Ingress</strong> - This is used to describe the port where a frame enters the device.</li>
<li><strong>Egress</strong> - This is used to describe the port that frames will use when leaving the device.</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="Algorithm-1"><a href="#Algorithm-1" class="headerlink" title="Algorithm"></a>Algorithm</h3><p>åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<blockquote>
<p>The DCQCN algorithm consists of the sender (<strong>reaction point (RP)</strong>), the switch (<strong>congestion point (CP)</strong>), and the receiver, (<strong>notification point (NP)</strong>).</p>
</blockquote>
<p>CP Algorithm: ä¸DCTCPç±»ä¼¼ï¼Œåœ¨egress queueä¸­è®¾ç½®thresholdå¹¶æ‰“ä¸ŠECNæ ‡è®°</p>
<p>NP Algorithm: æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œç”ŸæˆCongestion Notification Packets (CNP)æé†’æ‹¥å¡å‘ç”Ÿ</p>
<p>RP Algorithm: æŒ‰ç…§çŠ¶æ€æœºï¼Œå¯¹CNPåšå‡ºååº”ï¼Œæ§åˆ¶å‘é€é€Ÿç‡</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230725172322605.png" alt="image-20230725172322605" style="zoom:67%;" loading="lazy">

<h3 id="note"><a href="#note" class="headerlink" title="note"></a>note</h3><p>ã€æ³¨é‡Šã€‘</p>
<p><strong>PFC</strong>ï¼ˆPriority based Flow Controlï¼‰æ˜¯åœ¨äº¤æ¢æœº<strong>å…¥å£ï¼ˆingress portï¼‰</strong>å‘èµ·çš„æ‹¥å¡ç®¡ç†æœºåˆ¶ã€‚åœ¨é€šå¸¸æ— æ‹¥å¡æƒ…å†µä¸‹ï¼Œäº¤æ¢æœºçš„å…¥å£ buffer ä¸éœ€è¦å­˜å‚¨æ•°æ®ã€‚å½“äº¤æ¢æœºå‡ºå£ï¼ˆegress portï¼‰çš„ buffer è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼æ—¶ï¼Œäº¤æ¢æœºçš„å…¥å£ buffer å¼€å§‹ç§¯ç´¯ï¼Œå½“å…¥å£ buffer è¾¾åˆ°æˆ‘ä»¬è®¾å®šçš„é˜ˆå€¼æ—¶ï¼Œäº¤æ¢æœºå…¥å£å¼€å§‹ä¸»åŠ¨çš„è¿«ä½¿å®ƒçš„ä¸Šçº§ç«¯å£é™é€Ÿã€‚</p>
<p><strong>ECN</strong>ï¼ˆExplicit Congestion Notificationï¼‰ æ˜¯åœ¨äº¤æ¢æœº<strong>å‡ºå£ï¼ˆegress portï¼‰</strong>å‘èµ·çš„æ‹¥å¡æ§åˆ¶æœºåˆ¶ã€‚å½“äº¤æ¢æœºçš„å‡ºå£ buffer è¾¾åˆ°æˆ‘ä»¬è®¾å®šçš„é˜ˆå€¼æ—¶ï¼Œäº¤æ¢æœºä¼šæ”¹å˜æ•°æ®åŒ…å¤´ä¸­çš„ ECN ä½æ¥ç»™æ•°æ®æ‰“ä¸Š ECN æ ‡ç­¾</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/WA8@COU2{LX`RUC27Y`1UV8.png" alt="img" style="zoom:67%;" loading="lazy">

<p>ä»å……åˆ†å‘æŒ¥ç½‘ç»œé«˜æ€§èƒ½è½¬å‘çš„è§’åº¦ï¼Œæˆ‘ä»¬ä¸€èˆ¬å»ºè®®==<strong>é€šè¿‡è°ƒæ•´ECNå’ŒPFCçš„bufferæ°´çº¿</strong>ï¼Œ<u><strong>è®©ECNå¿«äºPFCè§¦å‘</strong></u>==ï¼Œ<strong>å³ç½‘ç»œè¿˜æ˜¯æŒç»­å…¨é€Ÿè¿›è¡Œæ•°æ®è½¬å‘ï¼Œè®©æœåŠ¡å™¨ä¸»åŠ¨é™ä½å‘åŒ…é€Ÿç‡ã€‚å¦‚æœè¿˜ä¸èƒ½è§£å†³é—®é¢˜ï¼Œå†é€šè¿‡PFCè®©ä¸Šæ¸¸äº¤æ¢æœºæš‚åœæŠ¥æ–‡å‘é€ï¼Œè™½ç„¶æ•´ç½‘ååæ€§èƒ½é™ä½ï¼Œä½†æ˜¯ä¸ä¼šäº§ç”Ÿä¸¢åŒ…ã€‚</strong></p>
<h2 id="TIMELY-RTT-based-Congestion-Control-for-the-Datacenter"><a href="#TIMELY-RTT-based-Congestion-Control-for-the-Datacenter" class="headerlink" title="TIMELY: RTT-based Congestion Control for the Datacenter"></a>TIMELY: RTT-based Congestion Control for the Datacenter</h2><p>ã€==<strong>TIMELYå¥½åƒæ²¡ææ€ä¹ˆåº”å¯¹delayed-ACKï¼Ÿ</strong>==ã€‘</p>
<p>We also measure <strong>the minimum RTT sample in every round</strong>, as prior work has found it to be a robust descriptor <strong>untainted by delayed ACKs</strong> and send/receive offload schemes.</p>
<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><ul>
<li><p>simple packet delay, measured as round-trip times at hosts, is an effective congestion signal without the need for switch feedback.</p>
<p>é€åŒ…å»¶è¿Ÿæ˜¯æœ‰æ•ˆçš„æ‹¥å¡ä¿¡å·ï¼ŒåŒæ—¶ä¹Ÿä¸éœ€è¦äº¤æ¢æœºçš„åé¦ˆ</p>
</li>
<li><p>these RTTs are sufficient to estimate switch queueing</p>
<p>RTTè¶³ä»¥ç”¨æ¥ä¼°è®¡äº¤æ¢æœºçš„é˜Ÿåˆ—</p>
</li>
<li><p>TIMELY is the first delay-based congestion control protocol for use in the datacenter, and it achieves its results despite having an order of magnitude fewer RTT signals (due to NIC<br>offload) than earlier delay-based schemes such as Vegas.</p>
<p>TIMELYæ˜¯DCä¸­çš„é¦–ä¸ªdelay-basedçš„CCåè®®ï¼Œå®ƒç”¨æ¯”æ—©æœŸçš„delay-basedçš„CCï¼ˆå¦‚Vegasï¼‰å°‘ä¸€ä¸ªæ•°é‡çº§çš„RTTä¿¡å·ï¼ˆå—é™äºNIC offloadï¼‰å®ç°äº†å…¶ç»“æœã€‚</p>
</li>
</ul>
<h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><ul>
<li><p>ä½¿ç”¨ECNæ§åˆ¶queue occupancyçš„æ–¹æ³•çš„ä¸è¶³ï¼š</p>
<ul>
<li><p>ä¸€äº›åœºæ™¯ä¸­ï¼ŒECNæ‰€è¡¨ç¤ºçš„queue occupancyé˜Ÿåˆ—å ç”¨å¹¶ä¸èƒ½ç›´è§‚åæ˜ æ’é˜Ÿå»¶è¿Ÿ</p>
<p>å¦‚ä¸€ä¸ªé˜Ÿåˆ—ä¸­çš„æ•°æ®åŒ…æœ‰å¤šç§ä¼˜å…ˆçº§ï¼Œå°½ç®¡é˜Ÿåˆ—é•¿åº¦æ²¡æœ‰è¶…è¿‡thresholdï¼Œä½ä¼˜å…ˆçº§çš„æµé‡åŒæ ·æœ‰å¯èƒ½ç»å†å·¨å¤§çš„delayã€‚è¿™ä¸ªæ—¶å€™delayåæ˜ äº†occupancyæ²¡èƒ½åæ˜ çš„æ‹¥å¡çŠ¶å†µã€‚</p>
<blockquote>
<p><em>Multiple queues with different priorities share the same output link, but the ECN mark only provides information about those with occupancy exceeding a threshold. Low priority traffic can experience large queueing delays without necessarily building up a large queue. In such circumstances, <strong>queueing delay reflects the state of congestion in the network which is not reflected by queue occupancy of low priority traffic</strong>.</em></p>
</blockquote>
</li>
<li><p>ECNåªèƒ½æè¿°å•ä¸ªäº¤æ¢æœºä¸­çš„æ‹¥å¡</p>
<p>è€ŒRTTä¿¡æ¯ç´¯ç§¯äº†ç«¯åˆ°ç«¯çš„æ‹¥å¡ä¿¡æ¯ï¼Œç”šè‡³åŒ…æ‹¬äº†NICä¸­çš„æ‹¥å¡ã€‚</p>
<blockquote>
<p><em>In a highly utilized network, <strong>congestion occurs at multiple switches</strong>, and ECN signals cannot differentiate among them.</em></p>
<p><em>The RTT accumulates information about the end-to-end path. It includes the NIC, which may also become congested but is ignored by most schemes.</em></p>
</blockquote>
</li>
<li><p>RTTsç”šè‡³åœ¨FCoEä¸­ä¹Ÿå¯ä»¥é€‚ç”¨</p>
<blockquote>
<p>RTTs work even for the lossless network fabrics commonly used to support FCoE.</p>
<p>FCoE åè®®è¦æ±‚åº•å±‚çš„ç‰©ç†ä¼ è¾“æ˜¯æ— æŸå¤±çš„ï¼›FCoE ä¸ä½¿ç”¨ TCP/IP åè®®ï¼Œå› æ­¤ FCoE æ•°æ®ä¼ è¾“ä¸èƒ½ä½¿ç”¨ IP ç½‘ç»œï¼Œä¹Ÿå°±æ— æ³•ä½¿ç”¨DCTCPè¿™æ ·çš„CCã€‚</p>
</blockquote>
</li>
</ul>
</li>
<li><p>NICçš„å‘å±•æ”¯æŒ</p>
<blockquote>
<p><em>recent NIC advances do allow data-center RTTs to be measured with sufficient precision.</em></p>
<p><em>recent NICs can accurately record the time of packet transmission and reception without being affected by software-incurred delays.</em></p>
<p><em>These methods must be used with care lest they overly tax the NIC.</em></p>
</blockquote>
</li>
<li><p>RTTä½œä¸ºæ‹¥å¡ä¿¡å·æ¯”ECNæ›´æœ‰æ•ˆã€‚</p>
<p><em>RTT is a rapid, multi-bit signal.</em></p>
<blockquote>
<p><em>As a binary quantity, ECN marks convey a single bit of information, while RTT measurements convey multiple bits and capture the full extent of end to end queueing delay aggregated across multiple switches rather than the presence of queueing exceeding a simple fixed threshold at any one ofN switches.</em></p>
<ul>
<li><em>Figure 2 shows the CDF of RTTs as measured at the end system compared to the queue occupancy measured directly at the switch and shown in units of time computed for a 10 Gbps link. The two CDFs match extremely well.</em></li>
<li><em>Both the scatter and box plots in Figure 3 show only a weak correlation between the fraction of ECN marks and RTTs.</em></li>
</ul>
</blockquote>
</li>
<li><p>RTTsçš„ä¸è¶³</p>
<p><em>Limitations of RTTs.</em></p>
<blockquote>
<ul>
<li>*RTT measurements lump queueing in both directions along the network path. This may confuse reverse path congestion experienced by ACKs with forward path congestion experienced by data packets.*â€”â€”send ACKs with higher priority</li>
<li><em>changing network paths have disparate delays</em>â€”â€”all paths have small propagation delays in datacenters</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="TIMELY-FRAMEWORK"><a href="#TIMELY-FRAMEWORK" class="headerlink" title="TIMELY FRAMEWORK"></a>TIMELY FRAMEWORK</h3><p>ä¸‰éƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>RTT measurement</strong> to monitor the network for congestion; </li>
<li>a <strong>computation engine</strong> that converts RTT signals into target sending rates; and</li>
<li>a <strong>control engine</strong> that inserts delays between segments to achieve the target rate.</li>
</ol>
<p>å¦‚ä¸‹å›¾ï¼š</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230725165753511.png" alt="image-20230725165753511" style="zoom:50%;" loading="lazy">

<h4 id="RTT-Measurement-Engine"><a href="#RTT-Measurement-Engine" class="headerlink" title="RTT Measurement Engine"></a>RTT Measurement Engine</h4><p>==<em>A completion event is generated upon receiving an ACK for <strong>a segment of data</strong> and includes the ACK receive time. The time from when the first packet is sent ($$t_{send}$$) until the ACK is received ($$t_{completion}$$) is defined as the completion time. Unlike TCP, there is one RTT for the set of packets rather than one RTT per 1-2 packets.</em>==</p>
<p><u><em>the timeline of a message: a segment consisting of <strong>multiple packets</strong> is sent as <strong>a single burst</strong> and then <strong>ACKed as a unit</strong> by the receiver.</em></u></p>
<blockquote>
<p>There are several delay components: </p>
<ol>
<li>ï¼ˆä¼ è¾“å»¶è¿Ÿï¼‰the serialization delay to transmit all packets in the segment, typically up to 64 KB;</li>
</ol>
<p>â€‹    <u>(<strong>deterministic function</strong>ï¼ˆç¡®å®šæ€§å‡½æ•°ï¼‰ of the segment size and the line rate of the NIC)</u><br><strong>2)</strong> ï¼ˆä¼ æ’­å»¶è¿Ÿï¼‰the round-trip wire delay for the segment and its ACK to propagate across the datacenter; </p>
<p>â€‹    <u><strong>the minimum RTT</strong> and fixed for a given flow</u><br>3) the turnaround time at the receiver to generate the ACK; and </p>
<p>â€‹    <u>sufficiently <strong>close to zero</strong> in our setting with NIC-based ACKs that we can ignore it</u><br><strong>4)</strong> ï¼ˆæ’é˜Ÿå»¶è¿Ÿï¼‰the queuing delay at switches experienced in both directions.</p>
<p>â€‹    <u>causes variation in the RTT, our <strong>focus</strong> for detecting congestion</u></p>
<p>We define the RTT to be the propagation and queueing delay components only.</p>
</blockquote>
<blockquote>
<p>ç¤ºæ„å›¾å¦‚ä¸‹å›¾ï¼š</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230725180254555.png" alt="image-20230725180254555" style="zoom:67%;" loading="lazy">

<p>TIMELY running on Host A computes RTT as:<br>$$<br>RTT = t_{completion} - t_{send} - \frac{seg.size}{NIC\ line\ rate}<br>$$<br>The time from when the first packet is sent (tsend) until the ACK is received (tcompletion) is defined as the completion time.</p>
</blockquote>
<h4 id="Rate-Computation-Engine"><a href="#Rate-Computation-Engine" class="headerlink" title="Rate Computation Engine"></a>Rate Computation Engine</h4><p><em>The rate computation engine runs the congestion control algorithm upon each completion event, and outputs an updated target rate for the flow.</em></p>
<h4 id="Rate-Control-Engine"><a href="#Rate-Control-Engine" class="headerlink" title="Rate Control Engine"></a>Rate Control Engine</h4><h3 id="TIMELY-CONGESTION-CONTROL"><a href="#TIMELY-CONGESTION-CONTROL" class="headerlink" title="TIMELY CONGESTION CONTROL"></a>TIMELY CONGESTION CONTROL</h3><h4 id="Metrics-and-Setting"><a href="#Metrics-and-Setting" class="headerlink" title="Metrics and Setting"></a>Metrics and Setting</h4><ul>
<li><p><em><strong>tail (99th percentile) RTT and aggregate throughput</strong></em>: they determine how quickly we complete short and long RPCs (assuming some fairness)</p>
</li>
<li><p>When there is a conflict between throughput and packet RTT, we <em><strong>prefer to keep RTT low</strong></em> at the cost of sacrificing a small amount of bandwidth.</p>
</li>
<li><p><em><strong>fairness and loss</strong></em>: We report both as a <em><strong>check</strong></em> rather than study them in detail.</p>
</li>
<li><p>Finally, we prefer a <em><strong>stable design</strong></em> over <em><strong>higher average, but oscillating rates</strong></em> for the sake of predictable performance.</p>
<p>æœ€åï¼Œä¸ºäº†æ€§èƒ½å¯ä»¥é¢„æµ‹ï¼Œæˆ‘ä»¬æ›´å–œæ¬¢ä¸€ä¸ªç¨³å®šçš„è®¾è®¡ï¼Œè€Œä¸æ˜¯å¹³å‡æ°´å¹³æ›´é«˜çš„åŒæ—¶æŒ¯è¡ç‡æ›´å¥½ã€‚</p>
</li>
</ul>
<h4 id="Delay-Gradient-Approach"><a href="#Delay-Gradient-Approach" class="headerlink" title="Delay Gradient Approach"></a>Delay Gradient Approach</h4><ul>
<li><p>å…ˆå‰çš„Delay-based CCï¼Œå¦‚TCP VegasåŠå—å…¶å¯å‘çš„FAST TCP, Compound TCPçš„å…±åŒç‰¹ç‚¹ï¼š</p>
<blockquote>
<p><em>These interpret RTT increase above a baseline as indicative of congestion: they reduce the sending rate <strong>/</strong> if delay is further increased <strong>/</strong> to try and maintain <strong>/</strong> buffer occupancy at the bottleneck queue around some <strong>predefined threshold</strong>.</em></p>
<p>æ­¤å‰çš„Delay-based CCéƒ½æ˜¯é¢„å…ˆè®¾å®šé˜Ÿåˆ—é•¿åº¦ï¼ˆä»¥delayä¸ºå•ä½ï¼‰çš„é˜ˆå€¼ï¼Œæ¥æ§åˆ¶é˜Ÿåˆ—é•¿åº¦ã€‚</p>
</blockquote>
</li>
<li><p>å…ˆå‰æ–¹æ³•çš„ç¼ºé™·ï¼š</p>
<blockquote>
<ul>
<li><em>it is not possible to control the queue size when it is shorter in time than the control loop delay</em></li>
<li><em>The most any algorithm can do in these circumstances is to control the distribution of the queue occupancy. Even if controlling the queue size were possible, <u>choosing a threshold for a datacenter network in which multiple queues can be a bottleneck is a notoriously hard tuning problem</u>.</em></li>
</ul>
</blockquote>
</li>
<li><p>TIMELYçš„æ–¹æ³•ï¼š</p>
<blockquote>
<p><em>TIMELYâ€™s congestion controller achieves low latencies by <strong>reacting to the delay gradient or derivative of the queuing with respect to time</strong>, <strong>instead of trying to maintain a standing queue</strong>.</em></p>
<p><em>By using the <strong>gradient</strong>, we can react to queue growth <strong>without waiting for a standing queue to form</strong> â€“ a strategy that helps us achieve low latencies.</em></p>
</blockquote>
</li>
<li><p>the delay gradient measured through RTT signals acts as an indicator for the rate mismatch at the bottleneck</p>
<p>TIMELY strives to match the <em><strong>aggregate incoming rate y(t)</strong></em> to the <em><strong>drain rate, C</strong></em>, and so adapts its per-connection rate, R(t), in proportion to the measured error of<br>$$<br>\frac{y(t)-C}{C} = \frac{dq(t)}{dt} = \frac{d(RTT)}{dt}<br>$$</p>
<p>  queuing delay through the bottleneck queue: $$q(t)$$</p>
</li>
</ul>
<h4 id="The-Main-Algorithm"><a href="#The-Main-Algorithm" class="headerlink" title="The Main Algorithm"></a>The Main Algorithm</h4><p>æ ¹æ®æ–°RTTçš„å€¼ï¼Œæ¥adjust sending rate</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230802222336780.png" alt="image-20230802222336780" style="zoom:67%;" loading="lazy">

<blockquote>
<p><em><strong>Connections sending at a higher rate observe a stronger decrease in their rate, while the increase in rate remains same for all connections.</strong></em></p>
</blockquote>
<blockquote>
<p><strong>Need for RTT low threshold $$T_{low}$$</strong></p>
<p><em>large segments (that can be as large as 64 KB) lead to <strong>packet bursts</strong>, which result in transient queues in the network and hence RTT spikes when there is an occasional collision</em></p>
<p>$$T_{low}$$ <em>is a (nonlinear) <strong>increasing function of the segment size</strong> used in the network, since larger messages cause more bursty queue occupancy.</em></p>
</blockquote>
<blockquote>
<p><strong>Need for RTT low threshold $$T_{high}$$</strong></p>
<p><em>in theory, it is possible for the gradient to stay at zero while the queue remains at a high, fixed level</em></p>
<p><em>To remove this concern, Thigh serves as an upper bound on the tolerable end-to-end network queue delay, i.e., the tail latency.</em></p>
<p><em>Note that we use the <strong>instantaneous</strong> rather than smoothed RTT.</em></p>
<p><em>Our finding is inline with [27] which shows through a control theoretic analysis that the <strong>averaged queue length is a failing of RED AQM</strong></em></p>
</blockquote>
<blockquote>
<p><strong>Hyperactive increase (HAI) for faster convergence.</strong></p>
</blockquote>
<h4 id="Gradient-versus-Queue-Size"><a href="#Gradient-versus-Queue-Size" class="headerlink" title="Gradient versus Queue Size"></a>Gradient versus Queue Size</h4><p><em><strong>Gradient</strong></em> versus <em><strong>Queue Size</strong></em></p>
<blockquote>
<p>If we set the same value for $$T_{low}$$and $$T_{high}$$, then TIMELY congestion control <em><strong>reduces to a queue size based approach</strong></em> (similar to TCP FAST algorithm; FAST in turn is a scaled, improved version of Vegas).</p>
</blockquote>
<blockquote>
<p>We see that the queue size approach can maintain either low latency or high throughput, but <em><strong>finds it hard to do both</strong></em>.</p>
</blockquote>
<blockquote>
<p>the connection rates <em><strong>oscillate</strong></em> more in the queue-size approach, as it drives the RTT up and down towards the target queue size.</p>
</blockquote>
<blockquote>
<p>The main take-away is that $$T_{low}$$and $$T_{high}$$ thresholds effectively bring the delay within a target range and <em><strong>play a role similar to the target queue occupancy</strong></em> in many AQM schemes.</p>
</blockquote>
<h3 id="IMPLEMENTATION"><a href="#IMPLEMENTATION" class="headerlink" title="IMPLEMENTATION"></a>IMPLEMENTATION</h3><ul>
<li><p><strong>Transport Interface</strong></p>
<p><em>TIMELY is concerned with the <strong>congestion control</strong> portion of the transport protocol; it is not concerned with reliability or the higher-level interface the transport exposes to applications. This allows <strong>the interface to the rest of the transport to be simple: message send and receive</strong>.</em></p>
</li>
<li><p><strong>Using NIC Completions for RTT Measurement</strong></p>
<blockquote>
<p>NIC records: <em>absolute timestamp of when the multi-packet operation <strong>finishes</strong></em></p>
<p>userspace software records: <em>the operation <strong>was posted to</strong> the NIC</em></p>
<p>(reason: We consider any NIC queuing occurring to be part of the RTT signal.)</p>
<p>æˆ‘ä»¬éœ€è¦å°†ç½‘å¡çš„æ’é˜Ÿæ—¶é—´ä¹Ÿè€ƒè™‘åœ¨å†…ï¼ŒNICè®°å½•çš„æ—¶é—´æˆ³ä¸åŒ…å«è¿™ä¸ªæ—¶é—´ï¼Œsoftwareè®°å½•çš„æ—¶é—´æˆ³åŒ…å«ï¼›ä½†æ˜¯ç”±äºNICæ¯”è¾ƒå‡†ç¡®ï¼Œæƒ³ä½¿ç”¨NICçš„æ—¶é—´ï¼Œæ‰€ä»¥éœ€è¦å°†softwareæ˜ å°„åˆ°NIC timestampsï¼Œè¿™é‡Œä½¿ç”¨çº¿æ€§æ˜ å°„</p>
<img src="/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/image-20230811171105109.png" alt="image-20230811171105109" style="zoom:67%;" loading="lazy">
</blockquote>
<p><em>This requires a scheme to map <strong>host</strong> clock to <strong>NIC</strong> clock, as well as calibration. A simple <strong>linear mapping</strong> is sufficient.</em></p>
</li>
<li><p><strong>RDMA rate control.</strong></p>
<p>RDMA Writes: TIMELY on the sender <strong>directly controls</strong> the segment pacing rate.</p>
<p>RDMA Reads: the receiver <strong>issues read requests</strong>, in response to which the remote host performs a DMA of the data segments. (<strong>pacing the read requests</strong>)</p>
</li>
<li><p><strong>Application limited behavior.</strong></p>
<p>Applications do not always have enough data to transmit for their flows to reach the target rate. </p>
<p>When this happens, we do not want to inadvertently increase the target rate without bound because the network appears to be uncongested. åœ¨appå‘ä¸‹å‘æ•°æ®çš„é€Ÿç‡å°äºtarget rateçš„æ—¶å€™ï¼Œç½‘ç»œçœ‹èµ·æ¥æ˜¯æ²¡æœ‰æ‹¥å¡çš„ï¼Œä½†æ­¤æ—¶å¹¶ä¸èƒ½è¡¨æ˜ç½‘ç»œæ— æ‹¥å¡ï¼Œæ‰€ä»¥ä¸èƒ½ç›²ç›®æé«˜å‘é€é€Ÿç‡ã€‚</p>
<p>To prevent this problem, we let the target rate increase only if the application is sending at more than 80% of the target rate, and we also cap the maximum target rate at 10 Gbps.</p>
</li>
<li><p><strong>Rate update frequency.</strong></p>
</li>
</ul>
<h2 id="Swift-Delay-is-Simple-and-Effective-for-Congestion-Control-in-the-Datacenter"><a href="#Swift-Delay-is-Simple-and-Effective-for-Congestion-Control-in-the-Datacenter" class="headerlink" title="Swift: Delay is Simple and Effective for Congestion Control in the Datacenter"></a>Swift: Delay is Simple and Effective for Congestion Control in the Datacenter</h2><p>Swift targets an <strong>end-to-end</strong> delay by using <strong>AIMD</strong> control, with <strong>pacing</strong> under extreme congestion.</p>
<p>Delay is easy to decompose into <em><strong>fabric</strong></em> and <em><strong>host</strong></em> components to separate concerns.</p>
<p>ç»†åŒ–äº†delayçš„ç»„æˆï¼Œå¼ºè°ƒäº†endpointsä¸Šäº§ç”Ÿçš„delay</p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>wan_nan</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/" title="æ–‡çŒ®é˜…è¯»">https://wan-nan.github.io/2023/07/08/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/2023/06/30/GDB-skills/" rel="next" title="GDB skills"><span class="post-nav-text">GDB skills</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 â€“ 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> wan_nan</span></div><div class="live_time"><span>æœ¬åšå®¢å·²æ‚„æ‚„è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-03T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="8293178209" data-server="tencent" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>